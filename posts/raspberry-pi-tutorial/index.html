<!doctype html><html lang=zh dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Raspberry Pi æŒ‡åŒ— | Neko Nest</title>
<meta name=keywords content="Raspberry Pi"><meta name=description content="å¥³æœ‹å‹é€çš„ç¤¼ç‰©ï¼Œå½“ç„¶è¦å¥½å¥½æŠ˜è…¾æŠ˜è…¾ å¼•è¨€ æ ‘è“æ´¾åˆ°å¦‚ä»Šå·²ç»å‘å¸ƒäº†4ä»£ï¼Œæ€§èƒ½è‡ªç„¶æ˜¯è¶Šæ¥è¶Šå¼ºäº†ï¼Œæ¯ä¸€ä»£éƒ½åˆ†ä¸ºAã€Bå‹ï¼Œä¹Ÿæœ‰æ¯”è¾ƒç‰¹æ®Šçš„å‹å·æ¯”å¦‚å»æ‰å¤§éƒ¨åˆ†æ¥å£å¾ˆå°å·§çš„æ ‘è“æ´¾Zeroã€å»æ‰æ‰€æœ‰æ¥å£çš„æ ‘è“æ´¾è®¡ç®—å‹CMï¼ˆCompute Moduleï¼‰ã€Bå‹çš„å¢å¼ºå‹B+ç­‰ã€‚å…¶ä¸­Bå‹æ˜¯æœ€å¸¸ç”¨çš„ï¼Œè€ŒAã€B"><meta name=author content="Eveneko"><link rel=canonical href=https://eveneko.com/posts/raspberry-pi-tutorial/><link crossorigin=anonymous href=/assets/css/stylesheet.3613efbd0b1772781e8f49935e973cae632a7f61471c05b17be155505ccf87b5.css integrity="sha256-NhPvvQsXcngej0mTXpc8rmMqf2FHHAWxe+FVUFzPh7U=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/assets/js/highlight.f413e19d0714851f6474e7ee9632408e58ac146fbdbe62747134bea2fa3415e0.js integrity="sha256-9BPhnQcUhR9kdOfuljJAjlisFG+9vmJ0cTS+ovo0FeA=" onload=hljs.initHighlightingOnLoad()></script><link rel=icon href=https://eveneko.com/images/logo.svg><link rel=icon type=image/png sizes=16x16 href=https://eveneko.com/images/logo.svg><link rel=icon type=image/png sizes=32x32 href=https://eveneko.com/images/logo.svg><link rel=apple-touch-icon href=https://eveneko.com/images/logo.svg><link rel=mask-icon href=https://eveneko.com/images/logo.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:title" content="Raspberry Pi æŒ‡åŒ—"><meta property="og:description" content="å¥³æœ‹å‹é€çš„ç¤¼ç‰©ï¼Œå½“ç„¶è¦å¥½å¥½æŠ˜è…¾æŠ˜è…¾ å¼•è¨€ æ ‘è“æ´¾åˆ°å¦‚ä»Šå·²ç»å‘å¸ƒäº†4ä»£ï¼Œæ€§èƒ½è‡ªç„¶æ˜¯è¶Šæ¥è¶Šå¼ºäº†ï¼Œæ¯ä¸€ä»£éƒ½åˆ†ä¸ºAã€Bå‹ï¼Œä¹Ÿæœ‰æ¯”è¾ƒç‰¹æ®Šçš„å‹å·æ¯”å¦‚å»æ‰å¤§éƒ¨åˆ†æ¥å£å¾ˆå°å·§çš„æ ‘è“æ´¾Zeroã€å»æ‰æ‰€æœ‰æ¥å£çš„æ ‘è“æ´¾è®¡ç®—å‹CMï¼ˆCompute Moduleï¼‰ã€Bå‹çš„å¢å¼ºå‹B+ç­‰ã€‚å…¶ä¸­Bå‹æ˜¯æœ€å¸¸ç”¨çš„ï¼Œè€ŒAã€B"><meta property="og:type" content="article"><meta property="og:url" content="https://eveneko.com/posts/raspberry-pi-tutorial/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2022-01-09T19:50:35+08:00"><meta property="article:modified_time" content="2022-01-09T19:50:35+08:00"><meta property="og:site_name" content="Neko Nest"><meta name=twitter:card content="summary"><meta name=twitter:title content="Raspberry Pi æŒ‡åŒ—"><meta name=twitter:description content="å¥³æœ‹å‹é€çš„ç¤¼ç‰©ï¼Œå½“ç„¶è¦å¥½å¥½æŠ˜è…¾æŠ˜è…¾ å¼•è¨€ æ ‘è“æ´¾åˆ°å¦‚ä»Šå·²ç»å‘å¸ƒäº†4ä»£ï¼Œæ€§èƒ½è‡ªç„¶æ˜¯è¶Šæ¥è¶Šå¼ºäº†ï¼Œæ¯ä¸€ä»£éƒ½åˆ†ä¸ºAã€Bå‹ï¼Œä¹Ÿæœ‰æ¯”è¾ƒç‰¹æ®Šçš„å‹å·æ¯”å¦‚å»æ‰å¤§éƒ¨åˆ†æ¥å£å¾ˆå°å·§çš„æ ‘è“æ´¾Zeroã€å»æ‰æ‰€æœ‰æ¥å£çš„æ ‘è“æ´¾è®¡ç®—å‹CMï¼ˆCompute Moduleï¼‰ã€Bå‹çš„å¢å¼ºå‹B+ç­‰ã€‚å…¶ä¸­Bå‹æ˜¯æœ€å¸¸ç”¨çš„ï¼Œè€ŒAã€B"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":2,"name":"Posts","item":"https://eveneko.com/posts/"},{"@type":"ListItem","position":3,"name":"Raspberry Pi æŒ‡åŒ—","item":"https://eveneko.com/posts/raspberry-pi-tutorial/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Raspberry Pi æŒ‡åŒ—","name":"Raspberry Pi æŒ‡åŒ—","description":"å¥³æœ‹å‹é€çš„ç¤¼ç‰©ï¼Œå½“ç„¶è¦å¥½å¥½æŠ˜è…¾æŠ˜è…¾ å¼•è¨€ æ ‘è“æ´¾åˆ°å¦‚ä»Šå·²ç»å‘å¸ƒäº†4ä»£ï¼Œæ€§èƒ½è‡ªç„¶æ˜¯è¶Šæ¥è¶Šå¼ºäº†ï¼Œæ¯ä¸€ä»£éƒ½åˆ†ä¸ºAã€Bå‹ï¼Œä¹Ÿæœ‰æ¯”è¾ƒç‰¹æ®Šçš„å‹å·æ¯”å¦‚å»æ‰å¤§éƒ¨åˆ†æ¥å£å¾ˆå°å·§çš„æ ‘è“æ´¾Zeroã€å»æ‰æ‰€æœ‰æ¥å£çš„æ ‘è“æ´¾è®¡ç®—å‹CMï¼ˆCompute Moduleï¼‰ã€Bå‹çš„å¢å¼ºå‹B+ç­‰ã€‚å…¶ä¸­Bå‹æ˜¯æœ€å¸¸ç”¨çš„ï¼Œè€ŒAã€B","keywords":["Raspberry Pi"],"articleBody":"å¥³æœ‹å‹é€çš„ç¤¼ç‰©ï¼Œå½“ç„¶è¦å¥½å¥½æŠ˜è…¾æŠ˜è…¾\nå¼•è¨€ æ ‘è“æ´¾åˆ°å¦‚ä»Šå·²ç»å‘å¸ƒäº†4ä»£ï¼Œæ€§èƒ½è‡ªç„¶æ˜¯è¶Šæ¥è¶Šå¼ºäº†ï¼Œæ¯ä¸€ä»£éƒ½åˆ†ä¸ºAã€Bå‹ï¼Œä¹Ÿæœ‰æ¯”è¾ƒç‰¹æ®Šçš„å‹å·æ¯”å¦‚å»æ‰å¤§éƒ¨åˆ†æ¥å£å¾ˆå°å·§çš„æ ‘è“æ´¾Zeroã€å»æ‰æ‰€æœ‰æ¥å£çš„æ ‘è“æ´¾è®¡ç®—å‹CMï¼ˆCompute Moduleï¼‰ã€Bå‹çš„å¢å¼ºå‹B+ç­‰ã€‚å…¶ä¸­Bå‹æ˜¯æœ€å¸¸ç”¨çš„ï¼Œè€ŒAã€Bå‹åŒºåˆ«ä¹Ÿåªåœ¨äºå°ºå¯¸å’Œæ¥å£ä¸åŒï¼ŒSoCåŸºæœ¬éƒ½æ˜¯ä¸€è‡´çš„ã€‚\nè®¾å¤‡ MacBook Pro (14-inch, 2021) Raspberry Pi Model B (4GB) ç¡¬ä»¶ ä¸»è¦æ¥å£ GPIO å¼•è„š æ•£çƒ­å™¨ é£æ‰‡çš„æ¥çº¿æ˜¯æ¥è½½æ ‘è“æ´¾æœ€å¤–æ’æ˜¯ä»å³å¾€å·¦æ•°ç¬¬äºŒå’Œç¬¬ä¸‰ä¸ªå¼•è„šä¸Šï¼Œçº¢è‰²æ¥ç¬¬äºŒæ ¹å¼•è„šï¼ˆ+5Vï¼‰ï¼Œé»‘è‰²æ¥ç¬¬ä¸‰æ ¹å¼•è„šï¼ˆGNDï¼‰ã€‚\næ­å»ºç³»ç»Ÿ æ ‘è“æ´¾å¼€å‘æ¿æ²¡æœ‰é…ç½®æ¿è½½ FLASHï¼Œå®ƒæ”¯æŒ SD å¡å¯åŠ¨ï¼ˆæˆ–è€…ä»Uç›˜å¯åŠ¨ï¼‰ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦ä¸‹è½½ç›¸åº”é•œåƒï¼Œå¹¶å°†å…¶çƒ§å†™åœ¨ SD ä¸Šåˆ¶ä½œç³»ç»Ÿç›˜ã€‚\næ”¯æŒçš„ç³»ç»Ÿå¦‚ä¸‹ï¼š Raspbianã€Arch Linux ARMã€Debian Squeezeã€Firefox OSã€Gentoo Linuxã€Google Chrome OSã€Raspberry Pi Fedora Remixã€Slackware ARMã€QtonPiã€Slackware ARMã€WebOSã€RISC OSã€FreeBSDã€NetBSDã€Android 4.0(Ice Cream Sandwich)\nä¸‹è½½é•œåƒ https://www.raspberrypi.com/software/operating-systems/\nå»ºè®® NOOBS å®‰è£…ã€‚Macç”¨æˆ·ç›´æ¥å¯ä»¥è·³è¿‡ã€‚\né•œåƒçƒ§å†™ å‡†å¤‡å·¥ä½œ TFå¡ï¼ˆ2GBä»¥ä¸Šï¼‰ è¯»å¡å™¨ Raspberry Pi Imagerï¼ˆMacçƒ§å½•å·¥å…·ï¼‰ Tips\n4bæ²¡æœ‰æ ‡å‡†HDMIæ¥å£ï¼Œåªæœ‰micro HDMIæ¥å£ å»ºè®®å‡†å¤‡ä¸€æ ¹ç½‘çº¿ï¼Œç›´è¿åœ¨è·¯ç”±å™¨ä¸Šï¼Œè¿™æ ·æ–¹ä¾¿è·å¾—æ ‘è“æ´¾ipåœ°å€ é»˜è®¤æ ‘è“æ´¾æ²¡æœ‰å¼€å¯sshï¼ŒvncæœåŠ¡ï¼Œæ‰€ä»¥åœ¨æ— æ³•è¿æ¥æ˜¾ç¤ºå±çš„æƒ…å†µä¸‹ï¼Œå»ºè®®ä¸‹è½½å·²ç»ä¿®æ”¹è¿‡è®¾ç½®çš„é•œåƒ æ ‘è“æ´¾è®¿é—®æ–¹å¼ å¤–æ¥ HDMI æˆ–è€… AV æ˜¾ç¤ºå™¨ï¼ŒUSB é¼ æ ‡ã€é”®ç›˜\nåˆæ¬¡è¿æ¥ä½¿ç”¨ ä½¿ç”¨ USB è½¬ TTL ä¸²å£æ¨¡å—é€šè¿‡ä¸²å£è®¿é—®æ ‘è“æ´¾\nSSH\nusername: pi password: raspberry VNC\nè¿è¥å•†æ™®éå±è”½äº†5900è¿™ä¸ªç«¯å£ï¼Œæ³¨æ„è½¬å‘\næ ‘è“æ´¾é…ç½® ç»è¿‡å‰é¢çš„æ­¥éª¤ï¼Œæ ‘è“æ´¾å·²ç»å¯ä»¥æ­£å¸¸å·¥ä½œäº†ï¼Œä½†åœ¨æ­£å¼å¼€å‘ä½¿ç”¨ä¹‹å‰ï¼Œè¿˜éœ€è¦åšä¸€äº›é…ç½®ã€‚\næ ‘è“æ´¾ç¬¬ä¸€æ¬¡ä½¿ç”¨çš„æ—¶å€™éœ€è¦è¿›è¡Œä¸€ä¸ªç®€å•çš„é…ç½®ï¼Œåœ¨å‘½ä»¤è¡Œæ¨¡å¼ä¸‹è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼š\n1 sudo raspi-config System Options Wireless LAN æ— çº¿è®¾ç½® Password ä¿®æ”¹å¯†ç  Interface Options SSH å¼€å¯SSH VNC å¼€å¯VNC Localisation Options Lacale å»ºè®®è‹±æ–‡ Timezone åˆå§‹ä¸ºè‹±å›½ï¼Œè¿™é‡Œæ”¹æˆ Shanghai/Hong Kong Overclock è¶…é¢‘é€‰é¡¹ï¼Œæ–°æ‰‹ä¸å»ºè®®è°ƒæ•´ æ ‘è“æ´¾ç½‘ç»œä¸æ›´æ–°é…ç½® æœ‰çº¿ç½‘ç»œ è‡ªåŠ¨è·å– IPï¼šæ ‘è“æ´¾é»˜è®¤æœ‰çº¿ç½‘å¡æ˜¯ä½¿èƒ½çš„ï¼Œåªéœ€å°†ç½‘çº¿æ’å…¥æ ‘è“æ´¾ç½‘å¡ï¼Œå³å¯è‡ªåŠ¨è·å¾— IP(è¦æ±‚åœ¨å±€åŸŸç½‘å†…)ã€‚ æ‰‹åŠ¨è®¾å®š IPï¼šå¦‚æœæ˜¯ç”µè„‘ä¸æ ‘è“æ´¾ç›´è¿ï¼Œä¸èƒ½è‡ªåŠ¨è·å¾— IPï¼Œå¯ä»¥ä½¿ç”¨ï¼šifconfig eth0 192.168.1.123 è®¾å®š ip(ä¸‹æ¬¡é‡å¯å°±æ²¡äº†)ã€‚ è®¾ç½®é™æ€ IPï¼šå¦‚æœæ‹…å¿ƒåœ¨åŒç½‘ç»œæƒ…å†µä¸‹ ip æˆ–è€…ä¸å›ºå®šï¼Œå¯ä»¥è®²ç”µè„‘è®¾ç½®ä¸ºé™æ€ ip æ‰“å¼€æ–‡ä»¶ /etc/dhcpcd.conf ä¿®æ”¹ # Example static IP configuration ä¸‹é¢çš„é…ç½® æ— çº¿ç½‘ç»œ 4bå¸¦æœ‰WiFiæ¨¡å—ï¼Œæ‰€ä»¥å¯ä»¥ç›´æ¥è·³è¿‡ã€‚\næ›´æ–°è½¯ä»¶æº Linuxçš„è½¯ä»¶ä¸åƒWindowsï¼ŒåŸºæœ¬éƒ½æ˜¯éœ€è¦åœ¨çº¿å®‰è£…çš„ï¼Œä½†æ˜¯æ ‘è“æ´¾ç”±äºå„ç§åŸå› å…¶é»˜è®¤çš„è½¯ä»¶æºåœ¨å›½å†…é€Ÿåº¦å¹¶ä¸æ˜¯å¾ˆç†æƒ³ï¼Œæ‰€ä»¥éœ€è¦æ›´æ–°ä¸€ä¸‹è½¯ä»¶æºã€‚\nè½¯ä»¶æ›´æ–°æº\n1 sudo vi /etc/apt/sources.list ç³»ç»Ÿæ›´æ–°æº\n1 sudo vi /etc/apt/sources.list.d/raspi.list è¿™é‡Œæˆ‘ä»¬ä½¿ç”¨ æ¸…åæº ï¼Œæ ¹æ®è‡ªå·±æœºå™¨æ“ä½œç³»ç»Ÿçš„ç‰ˆæœ¬ä¿®æ”¹æ–‡ä»¶å†…å®¹ã€‚\næŸ¥çœ‹ç³»ç»Ÿç‰ˆæœ¬\n1 lsb_release -a 1 2 3 4 5 No LSB modules are available. Distributor ID:\tRaspbian Description:\tRaspbian GNU/Linux 10 (buster) Release:\t10 Codename:\tbuster æŒ‚è½½ ä½¿ç”¨fdiskå‘½ä»¤æŸ¥çœ‹è®¾å¤‡ç¡¬ç›˜æƒ…å†µ\n1 sudo fdisk -l ä½¿ç”¨ df æŸ¥çœ‹æŒ‚è½½æƒ…å†µ\n1 df -h æ‰‹åŠ¨æŒ‚è½½ åœ¨ /mnt ä¸‹æ–°å»ºä¸€ä¸ªç›®å½•ä½œä¸ºæŒ‚è½½ç‚¹\n1 sudo mkdir /mnt/udisk æŒ‚è½½\n1 sudo mount -o uid=pi,gid=pi /dev/sda1 /mnt/udisk å¸è½½\n1 sudo umount /mnt/1GB_USB_flash Tips\nsda1 æ˜¯å–å†³äºä½ çš„å®é™…æƒ…å†µï¼Œa è¡¨ç¤ºç¬¬ä¸€ä¸ªç¡¬ç›˜ï¼Œ1 è¡¨ç¤ºç¬¬ä¸€ä¸ªåˆ†åŒºã€‚ FAT æ ¼å¼ U ç›˜ mount æœ¬èº«å°±èƒ½æ”¯æŒï¼Œä½†å¦‚æœä½ çš„ U ç›˜æˆ–ç§»åŠ¨ç¡¬ç›˜ä½¿ç”¨çš„æ˜¯ exFAT æ ¼å¼ï¼Œmount ä¼šè¯´ä¸æ”¯æŒã€‚ å®‰è£… exfat-fuse è½¯ä»¶ä¹‹å mount å°±æ”¯æŒäº†ã€‚ sudo apt-get install exfat-fuse å¼€æœºæŒ‚è½½ åœ¨ /etc/fstab ä¸­æ–°å¢ä¸€è¡Œï¼Œæ¯æ¬¡å¼€æœºéƒ½ä¼šæŒ‚è½½\n1 /dev/sda1 /mnt/udisk vfat rw,defaults 0 0 çƒ­æ’æŒ‚è½½ éœ€è¦å¸Œæœ›æƒ³ç”µè„‘ä¸€æ ·ï¼Œæ’ä¸Šè‡ªåŠ¨è¯†åˆ«æŒ‚è½½åœ¨æŸä¸€ç›®å½•ä¸‹ï¼Œæ‹”ä¸‹è‡ªåŠ¨ umountï¼ŒæŒ‰ä»¥ä¸‹æ“ä½œï¼Œä¼šè‡ªåŠ¨åœ¨ /mnt/udisk ç›®å½•ä¸‹æŒ‚è½½ U ç›˜ã€‚\næ–°å»ºæ–‡ä»¶\n1 sudo vi /etc/udev/rules.d/10-usbstorage.rules è¾“å…¥\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 KERNEL!=\"sd*\", GOTO=\"media_by_label_auto_mount_end\" SUBSYSTEM!=\"block\",GOTO=\"media_by_label_auto_mount_end\" IMPORT{program}=\"/sbin/blkid -o udev -p %N\" ENV{ID_FS_TYPE}==\"\", GOTO=\"media_by_label_auto_mount_end\" ENV{ID_FS_LABEL}!=\"\", ENV{dir_name}=\"%E{ID_FS_LABEL}\" ENV{ID_FS_LABEL}==\"\", ENV{dir_name}=\"Untitled-%k\" ACTION==\"add\", ENV{mount_options}=\"relatime,sync\" ACTION==\"add\", ENV{ID_FS_TYPE}==\"vfat\", ENV{mount_options}=\"iocharset=utf8,umaskk =000\" ACTION==\"add\", ENV{ID_FS_TYPE}==\"ntfs\", ENV{mount_options}=\"iocharset=utf8,umaskk =000\" ACTION==\"add\", RUN+=\"/bin/mkdir -p /mnt/udisk/\", RUN+=\"/bin/mount -o $env{mount__ options} /dev/%k /mnt/udisk/\" ACTION==\"remove\", ENV{dir_name}!=\"\", RUN+=\"/bin/umount -l /mnt/udisk/}\", RUN+=\"// bin/rmdir /mnt/udisk/\" LABEL=\"media_by_label_auto_mount_end\" 4bä¸Šä¸éœ€è¦è¿™ä¸ªåŠŸèƒ½ï¼Œé»˜è®¤æŒ‚åœ¨ /media/pi/\nå¢¨æ°´å± 1 2 3 4 5 6 7 8 9 10 == Hardware connection == EPD =\u003e Raspberry Pi * VCC -\u003e 3.3 * GND -\u003e GND * DIN -\u003e MOSI * CLK -\u003e SCLK * CS -\u003e 24 (Physical, BCM: CE0, 8) * D/C -\u003e 22 (Physical, BCM: 25) * RES -\u003e 11 (Physical, BCM: 17) * BUSY -\u003e 18 (Physical, BCM: 24) è½¯ä»¶ ç»Ÿè®¡ç«¯å£ application local port url smb 139,445 mysql 3306 calendar 5000 calendar.pi.eveneko.com:9000 vnc 5900 pi.eveneko.com:5901 pihole_web 8488 clash_web 8588 clash.pi.eveneko.com:9000 clash 7890,9090 nextcloud 8688 aria2 6800 ariaNg 8788 aria2.pi.eveneko.com:9000 frp dashboard 7500 pi.eveneko.com:7500 jupyter 8888 jupyter.pi.eveneko.com:9000 portainer 8988 portainer.pi.eveneko.com:9000 ä¸­æ–‡ å®‰è£…ä¸­æ–‡å­—åº“\n1 sudo apt-get install ttf-wqy-zenhei å®‰è£…ä¸­æ–‡è¾“å…¥æ³•\n1 sudo apt-get install fcitx fcitx-googlepinyin fcitx-module-cloudpinyin fcitx-sunpinyin python3 é»˜è®¤ä½¿ç”¨python3\n1 2 sudo rm /usr/bin/python sudo ln -s /usr/bin/python3.7 /usr/bin/python æ¢æº\nä¸´æ—¶ä½¿ç”¨\n1 pip install -i https://pypi.tuna.tsinghua.edu.cn/simple some-package è®¾ä¸ºé»˜è®¤\n1 2 pip3 config set global.index-url https://pypi.tuna.tsinghua.edu.cn/simple pip3 install pip -U nginx å®‰è£…\n1 sudo apt-get install nginx å…¶ä»–å‘½ä»¤\n1 2 3 4 5 6 # å¯åŠ¨ nginx systemctl start nginx # åœæ­¢ systemctl stop nginx # åŠ è½½é…ç½®æ–‡ä»¶ systemctl reload nginx å¯åŠ¨\n1 systemctl enable nginx jupyterlab å®‰è£…\n1 pip3 install jupyter é…ç½®\n1 python3 -m jupyter notebook --generate-config ä¿®æ”¹ä»¥ä¸‹å†…å®¹\n1 2 3 4 5 6 7 8 c.NotebookApp.allow_origin = '*' c.NotebookApp.ip = '0.0.0.0' c.NotebookApp.open_browser = False c.NotebookApp.port = 8888 c.NotebookApp.notebook_dir = '' c.NotebookApp.allow_root = True c.NotebookApp.allow_remote_access = True c.NotebookApp.token = '' å¼€æœºè‡ªå¯åŠ¨\nåœ¨ /etc/init.d ä¸‹æ–°å»ºæ–‡ä»¶ jupyter.init\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 #!/bin/bash ### BEGIN INIT INFO # Provides: jupyter # Required-Start: $local_fs $remote_fs $network $syslog # Required-Stop: $local_fs $remote_fs $network $syslog # Default-Start: 2 3 4 5 # Default-Stop: 0 1 6 # Short-Description: jupyter service # Description: jupyter service daemon ### END INIT INFO case \"$1\" in start) echo \"starting jupyterlab\" su pi -c \"nohub python3 -m jupyterlab \u003e /dev/null 2\u003e\u00261 \u0026\" ;; stop) echo \"stopping jupyterlab\" kill $(ps aux|grep -m 1 'python3 -m jupyterlab'|awk '{ print $2}') ;; *) echo \"Usage: service jupyterlab start|stop\" exit 1 ;; esac exit 0 æ·»åŠ æƒé™\n1 sudo chmod +x /etc/init.d/jupyter.init è®¾ç½®å¼€æœºå¯åŠ¨\n1 sudo update-rc.d jupyter.init defaults é‡å¯\nrcconf æŸ¥çœ‹å¯åŠ¨é¡¹\nå¼€æœºå¯åŠ¨ç›®å‰ç”¨supervisorå®ç°ï¼Œè¿˜å¯ä»¥å®ˆæŠ¤è¿›ç¨‹ã€‚\nfrpå†…ç½‘ç©¿é€ frp æ˜¯ä¸€ä¸ªé«˜æ€§èƒ½çš„åå‘ä»£ç†åº”ç”¨ï¼Œå¯ä»¥å¸®åŠ©æ‚¨è½»æ¾åœ°è¿›è¡Œå†…ç½‘ç©¿é€ï¼Œå¯¹å¤–ç½‘æä¾›æœåŠ¡ï¼Œæ”¯æŒ tcp, http, https ç­‰åè®®ç±»å‹ï¼Œå¹¶ä¸” web æœåŠ¡æ”¯æŒæ ¹æ®åŸŸåè¿›è¡Œè·¯ç”±è½¬å‘ã€‚\nåœ¨ frp releases ä¸‹è½½å¯¹åº”ç‰ˆæœ¬çš„frp\nä¸‹è½½åï¼Œå¯¹åº”ä¿®æ”¹ frps.ini\næœåŠ¡ç«¯\n1 2 3 4 5 6 7 8 9 [common] bbind_port = 7000 privilege_token = eveneko max_pool_count = 5 dashboard_port = 7500 dashboard_user = admin dashboard_pwd = admin vhost_http_port = 9000 #subdomain_host = pi.eveneko.com åå°å¯åŠ¨\n1 nohup ./frps -c frps.ini\u003e/dev/null 2\u003e\u00261 \u0026 åœ¨ /etc/init.d ä¸‹æ–°å»ºæ–‡ä»¶ frps.init\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 #!/bin/bash ### BEGIN INIT INFO # Provides: frp # Required-Start: $local_fs $remote_fs $network $syslog # Required-Stop: $local_fs $remote_fs $network $syslog # Default-Start: 2 3 4 5 # Default-Stop: 0 1 6 # Short-Description: frps service # Description: frps service daemon ### END INIT INFO case \"$1\" in start) echo \"starting frps\" nohup /home/ubuntu/Workspace/frp/frps -c /home/ubuntu/Workspace/frp/frps.ini\u003e/dev/null 2\u003e\u00261 \u0026 ;; stop) echo \"stopping frps\" kill $(ps aux|grep -m 1 '/home/ubuntu/Workspace/frp/frps -c /home/ubuntu/Workspace/frp/frps.ini'|awk '{ print $2}') ;; *) echo \"Usage: service frps start|stop\" exit 1 ;; esac exit 0 å¼€æœºå¯åŠ¨ç›®å‰ç”¨supervisorå®ç°ï¼Œè¿˜å¯ä»¥å®ˆæŠ¤è¿›ç¨‹ã€‚\nå®¢æˆ·ç«¯\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 [common] server_addr = pi.eveneko.com server_port = 7000 privilege_token = eveneko [ssh] type = tcp local_ip = 127.0.0.1 local_port = 22 remote_port = 2222 [pi-vnc] type = tcp local_ip = 127.0.0.1 local_port = 5900 remote_port = 5901 [pi-jupyter] type = http local_port = 8888 custom_domains = jupyter.pi.eveneko.com #subdomain = jupyter [pi-ariaNg] type = http local_port = 8788 custom_domains = aria2.pi.eveneko.com [pi-aria2] type = tcp local_ip = 127.0.0.1 local_port = 6800 remote_port = 6800 [pi-portainer] type = http local_port = 8988 custom_domains = portainer.pi.eveneko.com [pi-clash] type = http local_port = 8588 custom_domains = clash.pi.eveneko.com [pi-calendar] type = http local_port = 5000 custom_domains = calendar.pi.eveneko.com åå°å¯åŠ¨\n1 nohup ./frpc -c frpc.ini\u003e/dev/null 2\u003e\u00261 \u0026 åœ¨ /etc/init.d ä¸‹æ–°å»ºæ–‡ä»¶ frpc.init\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 #!/bin/bash ### BEGIN INIT INFO # Provides: frp # Required-Start: $local_fs $remote_fs $network $syslog # Required-Stop: $local_fs $remote_fs $network $syslog # Default-Start: 2 3 4 5 # Default-Stop: 0 1 6 # Short-Description: frpc service # Description: frpc service daemon ### END INIT INFO case \"$1\" in start) echo \"starting frpc\" nohup /home/pi/Workspace/frp/frpc -c /home/pi/Workspace/frp/frpc.ini\u003e/dev/null 2\u003e\u00261 \u0026 ;; stop) echo \"stopping frpc\" kill $(ps aux|grep -m 1 '/home/pi/Workspace/frp/frpc -c /home/pi/Workspace/frp/frpc.ini'|awk '{ print $2}') ;; *) echo \"Usage: service frpc start|stop\" exit 1 ;; esac exit 0 å¼€æœºå¯åŠ¨ç›®å‰ç”¨supervisorå®ç°ï¼Œè¿˜å¯ä»¥å®ˆæŠ¤è¿›ç¨‹ã€‚\nsupervisor å¸®åŠ©æˆ‘ä»¬å®ˆæŠ¤è¿›ç¨‹ï¼Œè‡ªåŠ¨æ¢å¤æœåŠ¡\nå®‰è£…\n1 sudo apt-get install supervisor é…ç½®\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 [program:frpc] directory = /home/pi/Workspace/frp/ ; command = /home/pi/Workspace/frp/frpc -c /home/pi/Workspace/frp/frpc.ini ; root = pi ; stopsignal = INT ; autostart = true ; startsecs = 5 ; autorestart = true ; startretries = 10 ; stopasgroup = true ; killasgroup = true ; redirect_stderr = true ; stdout_logfile_maxbytes = 20MB ; stdout_logfile_backups = 20 ; stdout_logfile = /var/log/frpc.log ; 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 [program:jupyterlab] directory = /home/pi/ ; command = python3 -m jupyterlab ; user = pi ; stopsignal = INT ; autostart = true ; startsecs = 10 ; autorestart = true ; startretries = 10 ; stopasgroup = true ; killasgroup = true ; redirect_stderr = true ; stdout_logfile_maxbytes = 20MB ; stdout_logfile_backups = 20 ; stdout_logfile = /var/log/jupyterlab.log ; 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 [program:ncovbot] directory = /home/pi/Workspace/BUPT-NCOV-AUTO-REPORT-BOT/ ; command = /home/pi/Workspace/BUPT-NCOV-AUTO-REPORT-BOT/venv/bin/python3 ./main.py ; environment=http_proxy=\"http://localhost:7890\",https_proxy=\"http://localhost:7890\" user = pi ; stopsignal = INT ; autostart = true ; startsecs = 5 ; autorestart = true ; startretries = 10 ; stopasgroup = true ; killasgroup = true ; redirect_stderr = true ; stdout_logfile_maxbytes = 20MB ; stdout_logfile_backups = 20 ; stdout_logfile = /var/log/ncovbot.log ; æ³¨æ„ supervisor çš„ç¯å¢ƒå˜é‡éœ€è¦\né‡æ–°åŠ è½½é…ç½®\n1 sudo supervisorctl reload æŸ¥çœ‹çŠ¶æ€\n1 sudo supervisorctl status æ³¨æ„useræ˜¯rootåˆ°æ—¶å€™ï¼Œå¯èƒ½ä¼šå‡ºç°ä¸€ä¸‹ç¯å¢ƒé—®é¢˜\ndocker docker\n1 sudo curl -sSL https://get.docker.com | sh æ¢æº\n1 sudo vim /etc/docker/daemon.json 1 2 3 { \"registry-mirrors\": [\"https://registry.docker-cn.com\"] } docker-compose\nDocker Compose çš„å®‰è£…æ–¹å¼æœ‰å¾ˆå¤šç§ï¼Œä½†ç”±äº ARM æ¶æ„çš„é™åˆ¶ï¼Œæ ‘è“æ´¾ä¸Šçš„ Docker Compose å»ºè®®ä½¿ç”¨ pip å®‰è£…ã€‚\n1 sudo pip3 install -U docker-compose ui\n1 2 3 sudo docker volume create portainer_data sudo docker run -d -p 8988:9000 --name portainer --restart always -v /var/run/docker.sock:/var/run/docker.sock -v portainer_data:/data portainer/ é»˜è®¤ç”¨æˆ·admin\nAria2 Aria2 æ˜¯ä¸€æ¬¾è‡ªç”±ã€è·¨å¹³å°å‘½ä»¤è¡Œç•Œé¢çš„ä¸‹è½½ç®¡ç†å™¨ï¼Œå’Œ wget è¿™ç±»ä¸‹è½½å™¨ä¸åŒçš„æ˜¯ï¼ŒAria2 ä¸ä»…æ”¯æŒ BitTorrentï¼Œè¿˜èƒ½å¤Ÿä»å„ç§æ¥æºå¤šè·¯æ£€ç´¢æ‰€è¯·æ±‚çš„æ–‡ä»¶ã€‚åŒ…æ‹¬ HTTPï¼ŒHTTPSï¼ŒFTP å’Œ BitTorrent åè®®ã€‚\nè€Œä¸” Raspbain ç³»ç»Ÿé»˜è®¤å·²ç»å®‰è£…äº† Aria2ï¼Œè¿è¡Œ apt-cache show aria2 å³å¯æŸ¥çœ‹å®‰è£…ä¿¡æ¯ã€‚\n1 sudo docker run -d --name aria2-ui-pi -p 8788:80 -p 6800:6800 -v /data:/data --restart=always huangzulin/aria2-ui-pi é»˜è®¤ç”¨æˆ·/å¯†ç  admin/admin\nmysql ä¸ºNextcloudå‡†å¤‡\n1 2 3 4 5 6 7 8 docker pull mysql docker run -d -p 3306:3306 -v /mnt/sde/mysql:/var/lib/mysql -e MYSQL_ROOT_PASSWORD=my-secret-pw --name mysql mysql # linux/arm/v7 ä¸æ”¯æŒmysqlï¼Œéœ€è¦å®‰è£… docker pull hypriot/rpi-mysql docker run --name some-mysql -e MYSQL_ROOT_PASSWORD=my-secret-pw -d -p 12345:3306 hypriot/rpi-mysql Nextcloud Nextcloudæ˜¯ä¸€æ¬¾å¼€æºå…è´¹çš„ç§æœ‰äº‘å­˜å‚¨ç½‘ç›˜é¡¹ç›®ï¼Œå¯ä»¥è®©ä½ å¿«é€Ÿä¾¿æ·åœ°æ­å»ºä¸€å¥—å±äºè‡ªå·±æˆ–å›¢é˜Ÿçš„äº‘åŒæ­¥ç½‘ç›˜ï¼Œä»è€Œå®ç°è·¨å¹³å°è·¨è®¾å¤‡æ–‡ä»¶åŒæ­¥ã€å…±äº«ã€ç‰ˆæœ¬æ§åˆ¶ã€å›¢é˜Ÿåä½œç­‰åŠŸèƒ½ã€‚å®ƒçš„å®¢æˆ·ç«¯è¦†ç›–äº†Windowsã€Macã€Androidã€iOSã€Linux ç­‰å„ç§å¹³å°ï¼Œä¹Ÿæä¾›äº†ç½‘é¡µç«¯ä»¥åŠ WebDAVæ¥å£ï¼Œæ‰€ä»¥ä½ å‡ ä¹å¯ä»¥åœ¨å„ç§è®¾å¤‡ä¸Šæ–¹ä¾¿åœ°è®¿é—®ä½ çš„äº‘ç›˜ã€‚\n1 2 3 sudo docker pull nextcloud docker run -d --restart=always -p 8688:80 -v /mnt/sde/nextcloud:/var/www/html -v /mnt/sde:/var/www/data -link mysql:mysql --name nextcloud nextcloud â€“link é“¾æ¥æ•°æ®åº“å®¹å™¨ï¼Œé“¾æ¥ä½¿ç”¨mysqlå®¹å™¨é•œåƒmysqlï¼ˆå®¹å™¨åç§°ï¼‰, ä¸ä½¿ç”¨åˆ™ä¸ºsqliteæ•°æ®åº“ -v æŒ‚è½½ç›®å½•ï¼Œå°†å®¹å™¨/var/www/htmlæŒ‚è½½åˆ°ä¸»æœº/mnt/sde/nextcloudä¸‹é¢ï¼Œhtmlä¸ºæœåŠ¡è·¯å¾„ï¼Œç¨åä¼šä¿®æ”¹/mnt/sde/nextcloud/config/config.phpçš„dataï¼Œä¿®æ”¹dataçš„ç›®å½•\ndocker-compose.yml\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 version: '2' services: mysql: image: ibex/debian-mysql-server-5.7 restart: always volumes: - db:/var/lib/mysql environment: - MYSQL_ROOT_PASSWORD=root - MYSQL_PASSWORD=\u003cpassword\u003e - MYSQL_DATABASE=nextcloud - MYSQL_USER=nextcloud container_name: mysql nextcloud: image: arm32v7/nextcloud ports: - 8688:80 links: - mysql volumes: - nextcloud:/var/www/html restart: always container_name: nextcloud volumes: db: nextcloud: ç­‰ä¸€å—ç¡¬ç›˜ç›’\nsmb 1 docker run -d -p 139:139 -p 445:445 --name samba -v /mnt/sde:/mount --restart=always dperson/samba -u \"root;root\" -s \"root;/mount/;yes;no;yes;all;all;all\" -w \"WORKGROUP\" -g \"force user=root\" -g \"guest account=root\" clash ç§‘å­¦ä¸Šç½‘ï¼Œdddd\ndocker-compose.yaml\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 version: '3' services: clash: # ghcr.io/dreamacro/clash # ghcr.io/dreamacro/clash-premium # dreamacro/clash # dreamacro/clash-premium image: dreamacro/clash container_name: clash volumes: - ./config.yaml:/root/.config/clash/config.yaml # - ./ui:/ui # dashboard volume ports: - \"7890:7890\" - \"7891:7891\" - \"9090:9090\" # - \"8080:8080\" # external controller (Restful API) # # TUN # cap_add: # - NET_ADMIN # devices: # - /dev/net/tun restart: unless-stopped #network_mode: \"bridge\" # or \"host\" on Linux clash_web: image: haishanh/yacd restart: always depends_on: - clash ports: - 8588:80 container_name: clash_web åˆ›å»º config.yamlåï¼Œæ‰§è¡Œ\n1 sudo docker-compose up -d æŸ¥çœ‹log\n1 sudo docker-compose logs åœæ­¢clash\n1 docker-compose stop æµ‹è¯•\n1 curl -x 127.0.0.1:7890 http://www.google.com è®¾ç½®ä»£ç†\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 # Define `setproxy` command to enable proxy configuration setproxy() { export http_proxy=\"http://localhost:7890\" export https_proxy=\"http://localhost:7890\" } # Define `unsetproxy` command to disable proxy configuration unsetproxy() { unset http_proxy unset https_proxy } # By default, enable proxy configuration for terminal login setproxy pihole Pi-hole æ˜¯ä¸€æ¬¾å¼€æºä¸”å…è´¹çš„ DNS æ²‰æ´æœåŠ¡å™¨ï¼ˆDNS sinkholeï¼‰\ndocker-compose.yaml\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 version: \"3\" # More info at https://github.com/pi-hole/docker-pi-hole/ and https://docs.pi-hole.net/ services: pihole: container_name: pihole image: pihole/pihole:latest ports: - \"53:53/tcp\" - \"53:53/udp\" #- \"67:67/udp\" # Only required if you are using Pi-hole as your DHCP server - \"8488:80/tcp\" environment: TZ: 'America/Chicago' # WEBPASSWORD: 'set a secure password here or it will be random' # Volumes store your data between container upgrades volumes: - './etc-pihole:/etc/pihole' - './etc-dnsmasq.d:/etc/dnsmasq.d' # https://github.com/pi-hole/docker-pi-hole#note-on-capabilities cap_add: - NET_ADMIN # Recommended but not required (DHCP needs NET_ADMIN) restart: unless-stopped web\nhttp://ip.hole/\nhttp://:/admin\nad host\nhttps://github.com/otobtc/ADhosts https://github.com/privacy-protection-tools/anti-AD å›½å†…å¹¿å‘Šå±è”½ä¸å¤Ÿå…¨é¢ è®¾å¤‡æœ‰æ—¶å€™ä¸è‡ªåŠ¨æ›´æ¢dns\n","wordCount":"4087","inLanguage":"zh","datePublished":"2022-01-09T19:50:35+08:00","dateModified":"2022-01-09T19:50:35+08:00","author":{"@type":"Person","name":"Eveneko"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://eveneko.com/posts/raspberry-pi-tutorial/"},"publisher":{"@type":"Organization","name":"Neko Nest","logo":{"@type":"ImageObject","url":"https://eveneko.com/images/logo.svg"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://eveneko.com accesskey=h title="Neko Nest (Alt + H)"><img src=https://eveneko.com/images/logo.svg alt aria-label=logo height=35>Neko Nest</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://eveneko.com/search/ title="ğŸ” æœç´¢"><span>ğŸ” æœç´¢</span></a></li><li><a href=https://eveneko.com/archives/ title="ğŸ•™ æ—¶é—´è½´"><span>ğŸ•™ æ—¶é—´è½´</span></a></li><li><a href=https://eveneko.com/categories/ title="ğŸ§© åˆ†ç±»"><span>ğŸ§© åˆ†ç±»</span></a></li><li><a href=https://eveneko.com/tags/ title="ğŸ·ï¸ æ ‡ç­¾"><span>ğŸ·ï¸ æ ‡ç­¾</span></a></li><li><a href=https://eveneko.com/about/ title="ğŸ™‹ğŸ»â€â™‚ï¸ å…³äº"><span>ğŸ™‹ğŸ»â€â™‚ï¸ å…³äº</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://eveneko.com>ä¸»é¡µ</a>&nbsp;Â»&nbsp;<a href=https://eveneko.com/posts/>Posts</a></div><h1 class=post-title>Raspberry Pi æŒ‡åŒ—</h1><div class=post-meta>&lt;span title='2022-01-09 19:50:35 +0800 +0800'>2022-01-09&lt;/span>&amp;nbsp;Â·&amp;nbsp;9 åˆ†é’Ÿ&amp;nbsp;Â·&amp;nbsp;4087 å­—&amp;nbsp;Â·&amp;nbsp;Eveneko&nbsp;|&nbsp;<a href=https://github.com/Eveneko/Blob-Source/edit/master/content/posts/raspberry-pi-tutorial/index.md rel="noopener noreferrer" target=_blank>Edit on GitHub</a></div></header><div class=toc><details><summary accesskey=c title="(Alt + C)"><span class=details>ç›®å½•</span></summary><div class=inner><nav id=TableOfContents><ul><li><a href=#å¼•è¨€>å¼•è¨€</a></li><li><a href=#è®¾å¤‡>è®¾å¤‡</a><ul><li><a href=#ç¡¬ä»¶>ç¡¬ä»¶</a></li><li><a href=#ä¸»è¦æ¥å£>ä¸»è¦æ¥å£</a></li><li><a href=#gpio-å¼•è„š>GPIO å¼•è„š</a></li><li><a href=#æ•£çƒ­å™¨>æ•£çƒ­å™¨</a></li></ul></li><li><a href=#æ­å»ºç³»ç»Ÿ>æ­å»ºç³»ç»Ÿ</a><ul><li><a href=#ä¸‹è½½é•œåƒ>ä¸‹è½½é•œåƒ</a></li><li><a href=#é•œåƒçƒ§å†™>é•œåƒçƒ§å†™</a></li><li><a href=#æ ‘è“æ´¾è®¿é—®æ–¹å¼>æ ‘è“æ´¾è®¿é—®æ–¹å¼</a></li><li><a href=#æ ‘è“æ´¾é…ç½®>æ ‘è“æ´¾é…ç½®</a></li><li><a href=#æ ‘è“æ´¾ç½‘ç»œä¸æ›´æ–°é…ç½®>æ ‘è“æ´¾ç½‘ç»œä¸æ›´æ–°é…ç½®</a></li><li><a href=#æŒ‚è½½>æŒ‚è½½</a></li><li><a href=#å¢¨æ°´å±>å¢¨æ°´å±</a></li></ul></li><li><a href=#è½¯ä»¶>è½¯ä»¶</a><ul><li><a href=#ç»Ÿè®¡ç«¯å£>ç»Ÿè®¡ç«¯å£</a></li><li><a href=#ä¸­æ–‡>ä¸­æ–‡</a></li><li><a href=#python3>python3</a></li><li><a href=#nginx>nginx</a></li><li><a href=#jupyterlab>jupyterlab</a></li><li><a href=#frpå†…ç½‘ç©¿é€>frpå†…ç½‘ç©¿é€</a></li><li><a href=#supervisor>supervisor</a></li><li><a href=#docker>docker</a></li><li><a href=#aria2>Aria2</a></li><li><a href=#mysql>mysql</a></li><li><a href=#nextcloud>Nextcloud</a></li><li><a href=#smb>smb</a></li><li><a href=#clash>clash</a></li><li><a href=#pihole>pihole</a></li></ul></li></ul></nav></div></details></div><div class=post-content><p><del>å¥³æœ‹å‹é€çš„ç¤¼ç‰©ï¼Œå½“ç„¶è¦å¥½å¥½æŠ˜è…¾æŠ˜è…¾</del></p><h2 id=å¼•è¨€>å¼•è¨€<a hidden class=anchor aria-hidden=true href=#å¼•è¨€>#</a></h2><p>æ ‘è“æ´¾åˆ°å¦‚ä»Šå·²ç»å‘å¸ƒäº†4ä»£ï¼Œæ€§èƒ½è‡ªç„¶æ˜¯è¶Šæ¥è¶Šå¼ºäº†ï¼Œæ¯ä¸€ä»£éƒ½åˆ†ä¸ºAã€Bå‹ï¼Œä¹Ÿæœ‰æ¯”è¾ƒç‰¹æ®Šçš„å‹å·æ¯”å¦‚å»æ‰å¤§éƒ¨åˆ†æ¥å£å¾ˆå°å·§çš„æ ‘è“æ´¾Zeroã€å»æ‰æ‰€æœ‰æ¥å£çš„æ ‘è“æ´¾è®¡ç®—å‹CMï¼ˆCompute Moduleï¼‰ã€Bå‹çš„å¢å¼ºå‹B+ç­‰ã€‚å…¶ä¸­Bå‹æ˜¯æœ€å¸¸ç”¨çš„ï¼Œè€ŒAã€Bå‹åŒºåˆ«ä¹Ÿåªåœ¨äºå°ºå¯¸å’Œæ¥å£ä¸åŒï¼ŒSoCåŸºæœ¬éƒ½æ˜¯ä¸€è‡´çš„ã€‚</p><h2 id=è®¾å¤‡>è®¾å¤‡<a hidden class=anchor aria-hidden=true href=#è®¾å¤‡>#</a></h2><ul><li>MacBook Pro (14-inch, 2021)</li><li>Raspberry Pi Model B (4GB)</li></ul><h3 id=ç¡¬ä»¶>ç¡¬ä»¶<a hidden class=anchor aria-hidden=true href=#ç¡¬ä»¶>#</a></h3><h3 id=ä¸»è¦æ¥å£>ä¸»è¦æ¥å£<a hidden class=anchor aria-hidden=true href=#ä¸»è¦æ¥å£>#</a></h3><p><img loading=lazy src=https://cdn.jsdelivr.net/gh/Eveneko/Source-Hosting@master/PicX/image.3n1bt9t7f4g0.webp alt=image></p><h3 id=gpio-å¼•è„š>GPIO å¼•è„š<a hidden class=anchor aria-hidden=true href=#gpio-å¼•è„š>#</a></h3><p><img loading=lazy src=https://cdn.jsdelivr.net/gh/Eveneko/Source-Hosting@master/PicX/image.2lbwis4a50hs.webp alt=image></p><h3 id=æ•£çƒ­å™¨>æ•£çƒ­å™¨<a hidden class=anchor aria-hidden=true href=#æ•£çƒ­å™¨>#</a></h3><p>é£æ‰‡çš„æ¥çº¿æ˜¯æ¥è½½æ ‘è“æ´¾æœ€å¤–æ’æ˜¯ä»å³å¾€å·¦æ•°ç¬¬äºŒå’Œç¬¬ä¸‰ä¸ªå¼•è„šä¸Šï¼Œçº¢è‰²æ¥ç¬¬äºŒæ ¹å¼•è„šï¼ˆ+5Vï¼‰ï¼Œé»‘è‰²æ¥ç¬¬ä¸‰æ ¹å¼•è„šï¼ˆGNDï¼‰ã€‚</p><p><img loading=lazy src=https://cdn.jsdelivr.net/gh/Eveneko/Source-Hosting@master/PicX/IMG_2982.3us2vc9oimrk.webp alt=IMG_2982></p><h2 id=æ­å»ºç³»ç»Ÿ>æ­å»ºç³»ç»Ÿ<a hidden class=anchor aria-hidden=true href=#æ­å»ºç³»ç»Ÿ>#</a></h2><p>æ ‘è“æ´¾å¼€å‘æ¿æ²¡æœ‰é…ç½®æ¿è½½ FLASHï¼Œå®ƒæ”¯æŒ SD å¡å¯åŠ¨ï¼ˆæˆ–è€…ä»Uç›˜å¯åŠ¨ï¼‰ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦ä¸‹è½½ç›¸åº”é•œåƒï¼Œå¹¶å°†å…¶çƒ§å†™åœ¨ SD ä¸Šåˆ¶ä½œç³»ç»Ÿç›˜ã€‚</p><p>æ”¯æŒçš„ç³»ç»Ÿå¦‚ä¸‹ï¼š
Raspbianã€Arch Linux ARMã€Debian Squeezeã€Firefox OSã€Gentoo Linuxã€Google Chrome OSã€Raspberry Pi Fedora Remixã€Slackware ARMã€QtonPiã€Slackware ARMã€WebOSã€RISC OSã€FreeBSDã€NetBSDã€Android 4.0(Ice Cream Sandwich)</p><h3 id=ä¸‹è½½é•œåƒ>ä¸‹è½½é•œåƒ<a hidden class=anchor aria-hidden=true href=#ä¸‹è½½é•œåƒ>#</a></h3><p><a href=https://www.raspberrypi.com/software/operating-systems/>https://www.raspberrypi.com/software/operating-systems/</a></p><p>å»ºè®® NOOBS å®‰è£…ã€‚Macç”¨æˆ·ç›´æ¥å¯ä»¥è·³è¿‡ã€‚</p><h3 id=é•œåƒçƒ§å†™>é•œåƒçƒ§å†™<a hidden class=anchor aria-hidden=true href=#é•œåƒçƒ§å†™>#</a></h3><h4 id=å‡†å¤‡å·¥ä½œ>å‡†å¤‡å·¥ä½œ<a hidden class=anchor aria-hidden=true href=#å‡†å¤‡å·¥ä½œ>#</a></h4><ul><li>TFå¡ï¼ˆ2GBä»¥ä¸Šï¼‰</li><li>è¯»å¡å™¨</li><li>Raspberry Pi Imagerï¼ˆMacçƒ§å½•å·¥å…·ï¼‰</li></ul><p><img loading=lazy src=https://cdn.jsdelivr.net/gh/Eveneko/Source-Hosting@master/PicX/image.3trqvho5oev4.webp alt=image></p><blockquote><p>Tips</p><ol><li>4bæ²¡æœ‰æ ‡å‡†HDMIæ¥å£ï¼Œåªæœ‰micro HDMIæ¥å£</li><li>å»ºè®®å‡†å¤‡ä¸€æ ¹ç½‘çº¿ï¼Œç›´è¿åœ¨è·¯ç”±å™¨ä¸Šï¼Œè¿™æ ·æ–¹ä¾¿è·å¾—æ ‘è“æ´¾ipåœ°å€</li><li>é»˜è®¤æ ‘è“æ´¾æ²¡æœ‰å¼€å¯sshï¼ŒvncæœåŠ¡ï¼Œæ‰€ä»¥åœ¨æ— æ³•è¿æ¥æ˜¾ç¤ºå±çš„æƒ…å†µä¸‹ï¼Œå»ºè®®ä¸‹è½½å·²ç»ä¿®æ”¹è¿‡è®¾ç½®çš„é•œåƒ</li></ol></blockquote><h3 id=æ ‘è“æ´¾è®¿é—®æ–¹å¼>æ ‘è“æ´¾è®¿é—®æ–¹å¼<a hidden class=anchor aria-hidden=true href=#æ ‘è“æ´¾è®¿é—®æ–¹å¼>#</a></h3><ul><li><p>å¤–æ¥ HDMI æˆ–è€… AV æ˜¾ç¤ºå™¨ï¼ŒUSB é¼ æ ‡ã€é”®ç›˜</p><ul><li>åˆæ¬¡è¿æ¥ä½¿ç”¨</li></ul></li><li><p>ä½¿ç”¨ USB è½¬ TTL ä¸²å£æ¨¡å—é€šè¿‡ä¸²å£è®¿é—®æ ‘è“æ´¾</p><p><img loading=lazy src=https://cdn.jsdelivr.net/gh/Eveneko/Source-Hosting@master/PicX/image.59bsjq7cops0.webp alt=image></p></li><li><p>SSH</p><ul><li>username: pi</li><li>password: raspberry</li></ul></li><li><p>VNC</p></li></ul><blockquote><p>è¿è¥å•†æ™®éå±è”½äº†5900è¿™ä¸ªç«¯å£ï¼Œæ³¨æ„è½¬å‘</p></blockquote><h3 id=æ ‘è“æ´¾é…ç½®>æ ‘è“æ´¾é…ç½®<a hidden class=anchor aria-hidden=true href=#æ ‘è“æ´¾é…ç½®>#</a></h3><p>ç»è¿‡å‰é¢çš„æ­¥éª¤ï¼Œæ ‘è“æ´¾å·²ç»å¯ä»¥æ­£å¸¸å·¥ä½œäº†ï¼Œä½†åœ¨æ­£å¼å¼€å‘ä½¿ç”¨ä¹‹å‰ï¼Œè¿˜éœ€è¦åšä¸€äº›é…ç½®ã€‚</p><p>æ ‘è“æ´¾ç¬¬ä¸€æ¬¡ä½¿ç”¨çš„æ—¶å€™éœ€è¦è¿›è¡Œä¸€ä¸ªç®€å•çš„é…ç½®ï¼Œåœ¨å‘½ä»¤è¡Œæ¨¡å¼ä¸‹è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>sudo raspi-config
</span></span></code></pre></td></tr></table></div></div><p><img loading=lazy src=https://cdn.jsdelivr.net/gh/Eveneko/Source-Hosting@master/PicX/image.6nl2hiv00zcw.webp alt=image></p><ul><li>System Options<ul><li>Wireless LAN æ— çº¿è®¾ç½®</li><li>Password ä¿®æ”¹å¯†ç </li></ul></li><li>Interface Options<ul><li>SSH å¼€å¯SSH</li><li>VNC å¼€å¯VNC</li></ul></li><li>Localisation Options<ul><li>Lacale å»ºè®®è‹±æ–‡</li><li>Timezone åˆå§‹ä¸ºè‹±å›½ï¼Œè¿™é‡Œæ”¹æˆ Shanghai/Hong Kong</li></ul></li><li>Overclock è¶…é¢‘é€‰é¡¹ï¼Œæ–°æ‰‹ä¸å»ºè®®è°ƒæ•´</li></ul><h3 id=æ ‘è“æ´¾ç½‘ç»œä¸æ›´æ–°é…ç½®>æ ‘è“æ´¾ç½‘ç»œä¸æ›´æ–°é…ç½®<a hidden class=anchor aria-hidden=true href=#æ ‘è“æ´¾ç½‘ç»œä¸æ›´æ–°é…ç½®>#</a></h3><h4 id=æœ‰çº¿ç½‘ç»œ>æœ‰çº¿ç½‘ç»œ<a hidden class=anchor aria-hidden=true href=#æœ‰çº¿ç½‘ç»œ>#</a></h4><ul><li>è‡ªåŠ¨è·å– IPï¼šæ ‘è“æ´¾é»˜è®¤æœ‰çº¿ç½‘å¡æ˜¯ä½¿èƒ½çš„ï¼Œåªéœ€å°†ç½‘çº¿æ’å…¥æ ‘è“æ´¾ç½‘å¡ï¼Œå³å¯è‡ªåŠ¨è·å¾— IP(è¦æ±‚åœ¨å±€åŸŸç½‘å†…)ã€‚</li><li>æ‰‹åŠ¨è®¾å®š IPï¼šå¦‚æœæ˜¯ç”µè„‘ä¸æ ‘è“æ´¾ç›´è¿ï¼Œä¸èƒ½è‡ªåŠ¨è·å¾— IPï¼Œå¯ä»¥ä½¿ç”¨ï¼šifconfig eth0 192.168.1.123 è®¾å®š ip(ä¸‹æ¬¡é‡å¯å°±æ²¡äº†)ã€‚</li><li>è®¾ç½®é™æ€ IPï¼šå¦‚æœæ‹…å¿ƒåœ¨åŒç½‘ç»œæƒ…å†µä¸‹ ip æˆ–è€…ä¸å›ºå®šï¼Œå¯ä»¥è®²ç”µè„‘è®¾ç½®ä¸ºé™æ€ ip<ul><li>æ‰“å¼€æ–‡ä»¶ <code>/etc/dhcpcd.conf</code></li><li>ä¿®æ”¹ <code># Example static IP configuration</code> ä¸‹é¢çš„é…ç½®</li></ul></li></ul><h4 id=æ— çº¿ç½‘ç»œ>æ— çº¿ç½‘ç»œ<a hidden class=anchor aria-hidden=true href=#æ— çº¿ç½‘ç»œ>#</a></h4><p>4bå¸¦æœ‰WiFiæ¨¡å—ï¼Œæ‰€ä»¥å¯ä»¥ç›´æ¥è·³è¿‡ã€‚</p><h4 id=æ›´æ–°è½¯ä»¶æº>æ›´æ–°è½¯ä»¶æº<a hidden class=anchor aria-hidden=true href=#æ›´æ–°è½¯ä»¶æº>#</a></h4><p>Linuxçš„è½¯ä»¶ä¸åƒWindowsï¼ŒåŸºæœ¬éƒ½æ˜¯éœ€è¦åœ¨çº¿å®‰è£…çš„ï¼Œä½†æ˜¯æ ‘è“æ´¾ç”±äºå„ç§åŸå› å…¶é»˜è®¤çš„è½¯ä»¶æºåœ¨å›½å†…é€Ÿåº¦å¹¶ä¸æ˜¯å¾ˆç†æƒ³ï¼Œæ‰€ä»¥éœ€è¦æ›´æ–°ä¸€ä¸‹è½¯ä»¶æºã€‚</p><ul><li><p>è½¯ä»¶æ›´æ–°æº</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>sudo vi /etc/apt/sources.list
</span></span></code></pre></td></tr></table></div></div></li><li><p>ç³»ç»Ÿæ›´æ–°æº</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>sudo vi /etc/apt/sources.list.d/raspi.list
</span></span></code></pre></td></tr></table></div></div></li></ul><p>è¿™é‡Œæˆ‘ä»¬ä½¿ç”¨ <a href=https://mirrors.tuna.tsinghua.edu.cn/help/raspbian/>æ¸…åæº</a> ï¼Œæ ¹æ®è‡ªå·±æœºå™¨æ“ä½œç³»ç»Ÿçš„ç‰ˆæœ¬ä¿®æ”¹æ–‡ä»¶å†…å®¹ã€‚</p><ul><li><p>æŸ¥çœ‹ç³»ç»Ÿç‰ˆæœ¬</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>lsb_release -a
</span></span></code></pre></td></tr></table></div></div><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>No LSB modules are available.
</span></span><span class=line><span class=cl>Distributor ID:	Raspbian
</span></span><span class=line><span class=cl>Description:	Raspbian GNU/Linux 10 (buster)
</span></span><span class=line><span class=cl>Release:	10
</span></span><span class=line><span class=cl>Codename:	buster
</span></span></code></pre></td></tr></table></div></div></li></ul><h3 id=æŒ‚è½½>æŒ‚è½½<a hidden class=anchor aria-hidden=true href=#æŒ‚è½½>#</a></h3><ul><li><p>ä½¿ç”¨fdiskå‘½ä»¤æŸ¥çœ‹è®¾å¤‡ç¡¬ç›˜æƒ…å†µ</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>sudo fdisk -l
</span></span></code></pre></td></tr></table></div></div></li><li><p>ä½¿ç”¨ <code>df</code> æŸ¥çœ‹æŒ‚è½½æƒ…å†µ</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>df -h
</span></span></code></pre></td></tr></table></div></div></li></ul><h4 id=æ‰‹åŠ¨æŒ‚è½½>æ‰‹åŠ¨æŒ‚è½½<a hidden class=anchor aria-hidden=true href=#æ‰‹åŠ¨æŒ‚è½½>#</a></h4><ul><li><p>åœ¨ <code>/mnt</code> ä¸‹æ–°å»ºä¸€ä¸ªç›®å½•ä½œä¸ºæŒ‚è½½ç‚¹</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>sudo mkdir /mnt/udisk
</span></span></code></pre></td></tr></table></div></div></li><li><p>æŒ‚è½½</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>sudo mount -o uid=pi,gid=pi /dev/sda1 /mnt/udisk
</span></span></code></pre></td></tr></table></div></div></li><li><p>å¸è½½</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>sudo umount /mnt/1GB_USB_flash
</span></span></code></pre></td></tr></table></div></div></li></ul><blockquote><p>Tips</p><ol><li>sda1 æ˜¯å–å†³äºä½ çš„å®é™…æƒ…å†µï¼Œa è¡¨ç¤ºç¬¬ä¸€ä¸ªç¡¬ç›˜ï¼Œ1 è¡¨ç¤ºç¬¬ä¸€ä¸ªåˆ†åŒºã€‚</li><li>FAT æ ¼å¼ U ç›˜ mount æœ¬èº«å°±èƒ½æ”¯æŒï¼Œä½†å¦‚æœä½ çš„ U ç›˜æˆ–ç§»åŠ¨ç¡¬ç›˜ä½¿ç”¨çš„æ˜¯ exFAT æ ¼å¼ï¼Œmount ä¼šè¯´ä¸æ”¯æŒã€‚
å®‰è£… exfat-fuse è½¯ä»¶ä¹‹å mount å°±æ”¯æŒäº†ã€‚
<code>sudo apt-get install exfat-fuse</code></li></ol></blockquote><h4 id=å¼€æœºæŒ‚è½½>å¼€æœºæŒ‚è½½<a hidden class=anchor aria-hidden=true href=#å¼€æœºæŒ‚è½½>#</a></h4><ul><li><p>åœ¨ <code>/etc/fstab</code> ä¸­æ–°å¢ä¸€è¡Œï¼Œæ¯æ¬¡å¼€æœºéƒ½ä¼šæŒ‚è½½</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>/dev/sda1 /mnt/udisk vfat rw,defaults 0 0
</span></span></code></pre></td></tr></table></div></div></li></ul><h4 id=çƒ­æ’æŒ‚è½½>çƒ­æ’æŒ‚è½½<a hidden class=anchor aria-hidden=true href=#çƒ­æ’æŒ‚è½½>#</a></h4><p>éœ€è¦å¸Œæœ›æƒ³ç”µè„‘ä¸€æ ·ï¼Œæ’ä¸Šè‡ªåŠ¨è¯†åˆ«æŒ‚è½½åœ¨æŸä¸€ç›®å½•ä¸‹ï¼Œæ‹”ä¸‹è‡ªåŠ¨ umountï¼ŒæŒ‰ä»¥ä¸‹æ“ä½œï¼Œä¼šè‡ªåŠ¨åœ¨ /mnt/udisk ç›®å½•ä¸‹æŒ‚è½½ U ç›˜ã€‚</p><ul><li><p>æ–°å»ºæ–‡ä»¶</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>sudo vi /etc/udev/rules.d/10-usbstorage.rules
</span></span></code></pre></td></tr></table></div></div></li><li><p>è¾“å…¥</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>KERNEL!=&#34;sd*&#34;, GOTO=&#34;media_by_label_auto_mount_end&#34;  
</span></span><span class=line><span class=cl>SUBSYSTEM!=&#34;block&#34;,GOTO=&#34;media_by_label_auto_mount_end&#34;  
</span></span><span class=line><span class=cl>IMPORT{program}=&#34;/sbin/blkid -o udev -p %N&#34;  
</span></span><span class=line><span class=cl>ENV{ID_FS_TYPE}==&#34;&#34;, GOTO=&#34;media_by_label_auto_mount_end&#34;  
</span></span><span class=line><span class=cl>ENV{ID_FS_LABEL}!=&#34;&#34;, ENV{dir_name}=&#34;%E{ID_FS_LABEL}&#34;  
</span></span><span class=line><span class=cl>ENV{ID_FS_LABEL}==&#34;&#34;, ENV{dir_name}=&#34;Untitled-%k&#34;  
</span></span><span class=line><span class=cl>ACTION==&#34;add&#34;, ENV{mount_options}=&#34;relatime,sync&#34;  
</span></span><span class=line><span class=cl>ACTION==&#34;add&#34;, ENV{ID_FS_TYPE}==&#34;vfat&#34;, ENV{mount_options}=&#34;iocharset=utf8,umaskk  
</span></span><span class=line><span class=cl>=000&#34;  
</span></span><span class=line><span class=cl>ACTION==&#34;add&#34;, ENV{ID_FS_TYPE}==&#34;ntfs&#34;, ENV{mount_options}=&#34;iocharset=utf8,umaskk  
</span></span><span class=line><span class=cl>=000&#34;  
</span></span><span class=line><span class=cl>ACTION==&#34;add&#34;, RUN+=&#34;/bin/mkdir -p /mnt/udisk/&#34;, RUN+=&#34;/bin/mount -o $env{mount__  
</span></span><span class=line><span class=cl>options} /dev/%k /mnt/udisk/&#34;  
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>ACTION==&#34;remove&#34;, ENV{dir_name}!=&#34;&#34;, RUN+=&#34;/bin/umount -l /mnt/udisk/}&#34;, RUN+=&#34;//  
</span></span><span class=line><span class=cl>bin/rmdir /mnt/udisk/&#34;  
</span></span><span class=line><span class=cl>LABEL=&#34;media_by_label_auto_mount_end&#34;
</span></span></code></pre></td></tr></table></div></div><blockquote><p>4bä¸Šä¸éœ€è¦è¿™ä¸ªåŠŸèƒ½ï¼Œé»˜è®¤æŒ‚åœ¨ <code>/media/pi/&lt;udisk_name></code></p></blockquote></li></ul><h3 id=å¢¨æ°´å±>å¢¨æ°´å±<a hidden class=anchor aria-hidden=true href=#å¢¨æ°´å±>#</a></h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>== Hardware connection ==
</span></span><span class=line><span class=cl>    EPD    =&gt;    Raspberry Pi
</span></span><span class=line><span class=cl>  * VCC    -&gt;    3.3
</span></span><span class=line><span class=cl>  * GND    -&gt;    GND
</span></span><span class=line><span class=cl>  * DIN    -&gt;    MOSI
</span></span><span class=line><span class=cl>  * CLK    -&gt;    SCLK
</span></span><span class=line><span class=cl>  * CS     -&gt;    24 (Physical, BCM: CE0, 8)
</span></span><span class=line><span class=cl>  * D/C    -&gt;    22 (Physical, BCM: 25)
</span></span><span class=line><span class=cl>  * RES    -&gt;    11 (Physical, BCM: 17)
</span></span><span class=line><span class=cl>  * BUSY   -&gt;    18 (Physical, BCM: 24)
</span></span></code></pre></td></tr></table></div></div><h2 id=è½¯ä»¶>è½¯ä»¶<a hidden class=anchor aria-hidden=true href=#è½¯ä»¶>#</a></h2><h3 id=ç»Ÿè®¡ç«¯å£>ç»Ÿè®¡ç«¯å£<a hidden class=anchor aria-hidden=true href=#ç»Ÿè®¡ç«¯å£>#</a></h3><table><thead><tr><th style=text-align:center>application</th><th style=text-align:center>local port</th><th style=text-align:center>url</th></tr></thead><tbody><tr><td style=text-align:center>smb</td><td style=text-align:center>139,445</td><td style=text-align:center></td></tr><tr><td style=text-align:center>mysql</td><td style=text-align:center>3306</td><td style=text-align:center></td></tr><tr><td style=text-align:center>calendar</td><td style=text-align:center>5000</td><td style=text-align:center>calendar.pi.eveneko.com:9000</td></tr><tr><td style=text-align:center>vnc</td><td style=text-align:center>5900</td><td style=text-align:center>pi.eveneko.com:5901</td></tr><tr><td style=text-align:center>pihole_web</td><td style=text-align:center>8488</td><td style=text-align:center></td></tr><tr><td style=text-align:center>clash_web</td><td style=text-align:center>8588</td><td style=text-align:center>clash.pi.eveneko.com:9000</td></tr><tr><td style=text-align:center>clash</td><td style=text-align:center>7890,9090</td><td style=text-align:center></td></tr><tr><td style=text-align:center>nextcloud</td><td style=text-align:center>8688</td><td style=text-align:center></td></tr><tr><td style=text-align:center>aria2</td><td style=text-align:center>6800</td><td style=text-align:center></td></tr><tr><td style=text-align:center>ariaNg</td><td style=text-align:center>8788</td><td style=text-align:center>aria2.pi.eveneko.com:9000</td></tr><tr><td style=text-align:center>frp dashboard</td><td style=text-align:center>7500</td><td style=text-align:center>pi.eveneko.com:7500</td></tr><tr><td style=text-align:center>jupyter</td><td style=text-align:center>8888</td><td style=text-align:center>jupyter.pi.eveneko.com:9000</td></tr><tr><td style=text-align:center>portainer</td><td style=text-align:center>8988</td><td style=text-align:center>portainer.pi.eveneko.com:9000</td></tr></tbody></table><h3 id=ä¸­æ–‡>ä¸­æ–‡<a hidden class=anchor aria-hidden=true href=#ä¸­æ–‡>#</a></h3><ul><li><p>å®‰è£…ä¸­æ–‡å­—åº“</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>sudo apt-get install ttf-wqy-zenhei
</span></span></code></pre></td></tr></table></div></div></li><li><p>å®‰è£…ä¸­æ–‡è¾“å…¥æ³•</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>sudo apt-get install fcitx fcitx-googlepinyin fcitx-module-cloudpinyin fcitx-sunpinyin
</span></span></code></pre></td></tr></table></div></div></li></ul><h3 id=python3>python3<a hidden class=anchor aria-hidden=true href=#python3>#</a></h3><ul><li><p>é»˜è®¤ä½¿ç”¨python3</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>sudo rm /usr/bin/python
</span></span><span class=line><span class=cl>sudo ln -s /usr/bin/python3.7 /usr/bin/python
</span></span></code></pre></td></tr></table></div></div></li><li><p>æ¢æº</p><ul><li><p>ä¸´æ—¶ä½¿ç”¨</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>pip install -i https://pypi.tuna.tsinghua.edu.cn/simple some-package
</span></span></code></pre></td></tr></table></div></div></li><li><p>è®¾ä¸ºé»˜è®¤</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>pip3 config set global.index-url https://pypi.tuna.tsinghua.edu.cn/simple
</span></span><span class=line><span class=cl>pip3 install pip -U
</span></span></code></pre></td></tr></table></div></div></li></ul></li></ul><h3 id=nginx>nginx<a hidden class=anchor aria-hidden=true href=#nginx>#</a></h3><ul><li><p>å®‰è£…</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>sudo apt-get install nginx
</span></span></code></pre></td></tr></table></div></div></li><li><p>å…¶ä»–å‘½ä»¤</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-gdscript3 data-lang=gdscript3><span class=line><span class=cl><span class=c1># å¯åŠ¨ nginx</span>
</span></span><span class=line><span class=cl><span class=n>systemctl</span> <span class=n>start</span> <span class=n>nginx</span>
</span></span><span class=line><span class=cl><span class=c1># åœæ­¢</span>
</span></span><span class=line><span class=cl><span class=n>systemctl</span> <span class=n>stop</span> <span class=n>nginx</span>
</span></span><span class=line><span class=cl><span class=c1># åŠ è½½é…ç½®æ–‡ä»¶</span>
</span></span><span class=line><span class=cl><span class=n>systemctl</span> <span class=n>reload</span> <span class=n>nginx</span>
</span></span></code></pre></td></tr></table></div></div></li><li><p>å¯åŠ¨</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>systemctl enable nginx
</span></span></code></pre></td></tr></table></div></div></li></ul><h3 id=jupyterlab>jupyterlab<a hidden class=anchor aria-hidden=true href=#jupyterlab>#</a></h3><ul><li><p>å®‰è£…</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>pip3 install jupyter
</span></span></code></pre></td></tr></table></div></div></li><li><p>é…ç½®</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>python3 -m jupyter notebook --generate-config
</span></span></code></pre></td></tr></table></div></div><p>ä¿®æ”¹ä»¥ä¸‹å†…å®¹</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>c.NotebookApp.allow_origin = &#39;*&#39;
</span></span><span class=line><span class=cl>c.NotebookApp.ip = &#39;0.0.0.0&#39;
</span></span><span class=line><span class=cl>c.NotebookApp.open_browser = False
</span></span><span class=line><span class=cl>c.NotebookApp.port = 8888
</span></span><span class=line><span class=cl>c.NotebookApp.notebook_dir = &#39;&lt;/home/pi&gt;&#39;
</span></span><span class=line><span class=cl>c.NotebookApp.allow_root = True
</span></span><span class=line><span class=cl>c.NotebookApp.allow_remote_access = True
</span></span><span class=line><span class=cl>c.NotebookApp.token = &#39;&#39;
</span></span></code></pre></td></tr></table></div></div></li><li><p>å¼€æœºè‡ªå¯åŠ¨</p><p>åœ¨ <code>/etc/init.d</code> ä¸‹æ–°å»ºæ–‡ä»¶ <code>jupyter.init</code></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=cp>#!/bin/bash 
</span></span></span><span class=line><span class=cl><span class=cp></span><span class=c1>### BEGIN INIT INFO</span>
</span></span><span class=line><span class=cl><span class=c1># Provides:          jupyter</span>
</span></span><span class=line><span class=cl><span class=c1># Required-Start:    $local_fs $remote_fs $network $syslog</span>
</span></span><span class=line><span class=cl><span class=c1># Required-Stop:     $local_fs $remote_fs $network $syslog</span>
</span></span><span class=line><span class=cl><span class=c1># Default-Start:     2 3 4 5</span>
</span></span><span class=line><span class=cl><span class=c1># Default-Stop:      0 1 6</span>
</span></span><span class=line><span class=cl><span class=c1># Short-Description: jupyter service</span>
</span></span><span class=line><span class=cl><span class=c1># Description:       jupyter service daemon</span>
</span></span><span class=line><span class=cl><span class=c1>### END INIT INFO </span>
</span></span><span class=line><span class=cl><span class=k>case</span> <span class=s2>&#34;</span><span class=nv>$1</span><span class=s2>&#34;</span> in
</span></span><span class=line><span class=cl>    start<span class=o>)</span>
</span></span><span class=line><span class=cl>        <span class=nb>echo</span> <span class=s2>&#34;starting jupyterlab&#34;</span>
</span></span><span class=line><span class=cl>        su pi -c <span class=s2>&#34;nohub python3 -m jupyterlab &gt; /dev/null 2&gt;&amp;1 &amp;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=p>;;</span>
</span></span><span class=line><span class=cl>    stop<span class=o>)</span>
</span></span><span class=line><span class=cl>        <span class=nb>echo</span> <span class=s2>&#34;stopping jupyterlab&#34;</span>
</span></span><span class=line><span class=cl>        <span class=nb>kill</span> <span class=k>$(</span>ps aux<span class=p>|</span>grep -m <span class=m>1</span> <span class=s1>&#39;python3 -m jupyterlab&#39;</span><span class=p>|</span>awk <span class=s1>&#39;{ print $2}&#39;</span><span class=k>)</span>
</span></span><span class=line><span class=cl>        <span class=p>;;</span>
</span></span><span class=line><span class=cl>    *<span class=o>)</span>
</span></span><span class=line><span class=cl>        <span class=nb>echo</span> <span class=s2>&#34;Usage: service jupyterlab start|stop&#34;</span>
</span></span><span class=line><span class=cl>        <span class=nb>exit</span> <span class=m>1</span>
</span></span><span class=line><span class=cl>        <span class=p>;;</span>
</span></span><span class=line><span class=cl><span class=k>esac</span>
</span></span><span class=line><span class=cl><span class=nb>exit</span> <span class=m>0</span>
</span></span></code></pre></td></tr></table></div></div><p>æ·»åŠ æƒé™</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>sudo chmod +x /etc/init.d/jupyter.init
</span></span></code></pre></td></tr></table></div></div><p>è®¾ç½®å¼€æœºå¯åŠ¨</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>sudo update-rc.d jupyter.init defaults
</span></span></code></pre></td></tr></table></div></div><p>é‡å¯</p><p><code>rcconf</code> æŸ¥çœ‹å¯åŠ¨é¡¹</p><blockquote><p>å¼€æœºå¯åŠ¨ç›®å‰ç”¨supervisorå®ç°ï¼Œè¿˜å¯ä»¥å®ˆæŠ¤è¿›ç¨‹ã€‚</p></blockquote></li></ul><h3 id=frpå†…ç½‘ç©¿é€>frpå†…ç½‘ç©¿é€<a hidden class=anchor aria-hidden=true href=#frpå†…ç½‘ç©¿é€>#</a></h3><p>frp æ˜¯ä¸€ä¸ªé«˜æ€§èƒ½çš„åå‘ä»£ç†åº”ç”¨ï¼Œå¯ä»¥å¸®åŠ©æ‚¨è½»æ¾åœ°è¿›è¡Œå†…ç½‘ç©¿é€ï¼Œå¯¹å¤–ç½‘æä¾›æœåŠ¡ï¼Œæ”¯æŒ tcp, http, https ç­‰åè®®ç±»å‹ï¼Œå¹¶ä¸” web æœåŠ¡æ”¯æŒæ ¹æ®åŸŸåè¿›è¡Œè·¯ç”±è½¬å‘ã€‚</p><p>åœ¨ <a href=https://github.com/fatedier/frp/releases>frp releases</a> ä¸‹è½½å¯¹åº”ç‰ˆæœ¬çš„frp</p><p>ä¸‹è½½åï¼Œå¯¹åº”ä¿®æ”¹ <code>frps.ini</code></p><ul><li><p>æœåŠ¡ç«¯</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span><span class=lnt>9
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>[common]
</span></span><span class=line><span class=cl>bbind_port = 7000
</span></span><span class=line><span class=cl>privilege_token = eveneko
</span></span><span class=line><span class=cl>max_pool_count = 5
</span></span><span class=line><span class=cl>dashboard_port = 7500
</span></span><span class=line><span class=cl>dashboard_user = admin
</span></span><span class=line><span class=cl>dashboard_pwd = admin
</span></span><span class=line><span class=cl>vhost_http_port = 9000
</span></span><span class=line><span class=cl>#subdomain_host = pi.eveneko.com
</span></span></code></pre></td></tr></table></div></div><p>åå°å¯åŠ¨</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>nohup ./frps -c frps.ini&gt;/dev/null 2&gt;&amp;1 &amp;
</span></span></code></pre></td></tr></table></div></div><p>åœ¨ <code>/etc/init.d</code> ä¸‹æ–°å»ºæ–‡ä»¶ <code>frps.init</code></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=cp>#!/bin/bash 
</span></span></span><span class=line><span class=cl><span class=cp></span><span class=c1>### BEGIN INIT INFO</span>
</span></span><span class=line><span class=cl><span class=c1># Provides:          frp</span>
</span></span><span class=line><span class=cl><span class=c1># Required-Start:    $local_fs $remote_fs $network $syslog</span>
</span></span><span class=line><span class=cl><span class=c1># Required-Stop:     $local_fs $remote_fs $network $syslog</span>
</span></span><span class=line><span class=cl><span class=c1># Default-Start:     2 3 4 5</span>
</span></span><span class=line><span class=cl><span class=c1># Default-Stop:      0 1 6</span>
</span></span><span class=line><span class=cl><span class=c1># Short-Description: frps service</span>
</span></span><span class=line><span class=cl><span class=c1># Description:       frps service daemon</span>
</span></span><span class=line><span class=cl><span class=c1>### END INIT INFO </span>
</span></span><span class=line><span class=cl><span class=k>case</span> <span class=s2>&#34;</span><span class=nv>$1</span><span class=s2>&#34;</span> in
</span></span><span class=line><span class=cl>    start<span class=o>)</span>
</span></span><span class=line><span class=cl>        <span class=nb>echo</span> <span class=s2>&#34;starting frps&#34;</span>
</span></span><span class=line><span class=cl>        nohup /home/ubuntu/Workspace/frp/frps -c /home/ubuntu/Workspace/frp/frps.ini&gt;/dev/null 2&gt;<span class=p>&amp;</span><span class=m>1</span> <span class=p>&amp;</span>
</span></span><span class=line><span class=cl>        <span class=p>;;</span>
</span></span><span class=line><span class=cl>    stop<span class=o>)</span>
</span></span><span class=line><span class=cl>        <span class=nb>echo</span> <span class=s2>&#34;stopping frps&#34;</span>
</span></span><span class=line><span class=cl>        <span class=nb>kill</span> <span class=k>$(</span>ps aux<span class=p>|</span>grep -m <span class=m>1</span> <span class=s1>&#39;/home/ubuntu/Workspace/frp/frps -c /home/ubuntu/Workspace/frp/frps.ini&#39;</span><span class=p>|</span>awk <span class=s1>&#39;{ print $2}&#39;</span><span class=k>)</span>
</span></span><span class=line><span class=cl>        <span class=p>;;</span>
</span></span><span class=line><span class=cl>    *<span class=o>)</span>
</span></span><span class=line><span class=cl>        <span class=nb>echo</span> <span class=s2>&#34;Usage: service frps start|stop&#34;</span>
</span></span><span class=line><span class=cl>        <span class=nb>exit</span> <span class=m>1</span>
</span></span><span class=line><span class=cl>        <span class=p>;;</span>
</span></span><span class=line><span class=cl><span class=k>esac</span>
</span></span><span class=line><span class=cl><span class=nb>exit</span> <span class=m>0</span>
</span></span></code></pre></td></tr></table></div></div><blockquote><p>å¼€æœºå¯åŠ¨ç›®å‰ç”¨supervisorå®ç°ï¼Œè¿˜å¯ä»¥å®ˆæŠ¤è¿›ç¨‹ã€‚</p></blockquote></li><li><p>å®¢æˆ·ç«¯</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span><span class=lnt>42
</span><span class=lnt>43
</span><span class=lnt>44
</span><span class=lnt>45
</span><span class=lnt>46
</span><span class=lnt>47
</span><span class=lnt>48
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>[common]
</span></span><span class=line><span class=cl>server_addr = pi.eveneko.com
</span></span><span class=line><span class=cl>server_port = 7000
</span></span><span class=line><span class=cl>privilege_token = eveneko
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>[ssh]
</span></span><span class=line><span class=cl>type = tcp
</span></span><span class=line><span class=cl>local_ip = 127.0.0.1
</span></span><span class=line><span class=cl>local_port = 22
</span></span><span class=line><span class=cl>remote_port = 2222
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>[pi-vnc]
</span></span><span class=line><span class=cl>type = tcp
</span></span><span class=line><span class=cl>local_ip = 127.0.0.1
</span></span><span class=line><span class=cl>local_port = 5900
</span></span><span class=line><span class=cl>remote_port = 5901
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>[pi-jupyter]
</span></span><span class=line><span class=cl>type = http
</span></span><span class=line><span class=cl>local_port = 8888
</span></span><span class=line><span class=cl>custom_domains = jupyter.pi.eveneko.com
</span></span><span class=line><span class=cl>#subdomain = jupyter
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>[pi-ariaNg]
</span></span><span class=line><span class=cl>type = http
</span></span><span class=line><span class=cl>local_port = 8788
</span></span><span class=line><span class=cl>custom_domains = aria2.pi.eveneko.com
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>[pi-aria2]
</span></span><span class=line><span class=cl>type = tcp
</span></span><span class=line><span class=cl>local_ip = 127.0.0.1
</span></span><span class=line><span class=cl>local_port = 6800
</span></span><span class=line><span class=cl>remote_port = 6800
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>[pi-portainer]
</span></span><span class=line><span class=cl>type = http
</span></span><span class=line><span class=cl>local_port = 8988
</span></span><span class=line><span class=cl>custom_domains = portainer.pi.eveneko.com
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>[pi-clash]
</span></span><span class=line><span class=cl>type = http
</span></span><span class=line><span class=cl>local_port = 8588
</span></span><span class=line><span class=cl>custom_domains = clash.pi.eveneko.com
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>[pi-calendar]
</span></span><span class=line><span class=cl>type = http
</span></span><span class=line><span class=cl>local_port = 5000
</span></span><span class=line><span class=cl>custom_domains = calendar.pi.eveneko.com
</span></span></code></pre></td></tr></table></div></div><p>åå°å¯åŠ¨</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>nohup ./frpc -c frpc.ini&gt;/dev/null 2&gt;&amp;1 &amp;
</span></span></code></pre></td></tr></table></div></div><p>åœ¨ <code>/etc/init.d</code> ä¸‹æ–°å»ºæ–‡ä»¶ <code>frpc.init</code></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=cp>#!/bin/bash 
</span></span></span><span class=line><span class=cl><span class=cp></span><span class=c1>### BEGIN INIT INFO</span>
</span></span><span class=line><span class=cl><span class=c1># Provides:          frp</span>
</span></span><span class=line><span class=cl><span class=c1># Required-Start:    $local_fs $remote_fs $network $syslog</span>
</span></span><span class=line><span class=cl><span class=c1># Required-Stop:     $local_fs $remote_fs $network $syslog</span>
</span></span><span class=line><span class=cl><span class=c1># Default-Start:     2 3 4 5</span>
</span></span><span class=line><span class=cl><span class=c1># Default-Stop:      0 1 6</span>
</span></span><span class=line><span class=cl><span class=c1># Short-Description: frpc service</span>
</span></span><span class=line><span class=cl><span class=c1># Description:       frpc service daemon</span>
</span></span><span class=line><span class=cl><span class=c1>### END INIT INFO </span>
</span></span><span class=line><span class=cl><span class=k>case</span> <span class=s2>&#34;</span><span class=nv>$1</span><span class=s2>&#34;</span> in
</span></span><span class=line><span class=cl>    start<span class=o>)</span>
</span></span><span class=line><span class=cl>        <span class=nb>echo</span> <span class=s2>&#34;starting frpc&#34;</span>
</span></span><span class=line><span class=cl>        nohup /home/pi/Workspace/frp/frpc -c /home/pi/Workspace/frp/frpc.ini&gt;/dev/null 2&gt;<span class=p>&amp;</span><span class=m>1</span> <span class=p>&amp;</span>
</span></span><span class=line><span class=cl>        <span class=p>;;</span>
</span></span><span class=line><span class=cl>    stop<span class=o>)</span>
</span></span><span class=line><span class=cl>        <span class=nb>echo</span> <span class=s2>&#34;stopping frpc&#34;</span>
</span></span><span class=line><span class=cl>        <span class=nb>kill</span> <span class=k>$(</span>ps aux<span class=p>|</span>grep -m <span class=m>1</span> <span class=s1>&#39;/home/pi/Workspace/frp/frpc -c /home/pi/Workspace/frp/frpc.ini&#39;</span><span class=p>|</span>awk <span class=s1>&#39;{ print $2}&#39;</span><span class=k>)</span>
</span></span><span class=line><span class=cl>        <span class=p>;;</span>
</span></span><span class=line><span class=cl>    *<span class=o>)</span>
</span></span><span class=line><span class=cl>        <span class=nb>echo</span> <span class=s2>&#34;Usage: service frpc start|stop&#34;</span>
</span></span><span class=line><span class=cl>        <span class=nb>exit</span> <span class=m>1</span>
</span></span><span class=line><span class=cl>        <span class=p>;;</span>
</span></span><span class=line><span class=cl><span class=k>esac</span>
</span></span><span class=line><span class=cl><span class=nb>exit</span> <span class=m>0</span>
</span></span></code></pre></td></tr></table></div></div><blockquote><p>å¼€æœºå¯åŠ¨ç›®å‰ç”¨supervisorå®ç°ï¼Œè¿˜å¯ä»¥å®ˆæŠ¤è¿›ç¨‹ã€‚</p></blockquote></li></ul><h3 id=supervisor>supervisor<a hidden class=anchor aria-hidden=true href=#supervisor>#</a></h3><p>å¸®åŠ©æˆ‘ä»¬å®ˆæŠ¤è¿›ç¨‹ï¼Œè‡ªåŠ¨æ¢å¤æœåŠ¡</p><ul><li><p>å®‰è£…</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>sudo apt-get install supervisor
</span></span></code></pre></td></tr></table></div></div></li><li><p>é…ç½®</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-gdscript3 data-lang=gdscript3><span class=line><span class=cl><span class=p>[</span><span class=n>program</span><span class=p>:</span><span class=n>frpc</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=n>directory</span> <span class=o>=</span> <span class=o>/</span><span class=n>home</span><span class=o>/</span><span class=n>pi</span><span class=o>/</span><span class=n>Workspace</span><span class=o>/</span><span class=n>frp</span><span class=o>/</span> <span class=p>;</span>
</span></span><span class=line><span class=cl><span class=n>command</span> <span class=o>=</span> <span class=o>/</span><span class=n>home</span><span class=o>/</span><span class=n>pi</span><span class=o>/</span><span class=n>Workspace</span><span class=o>/</span><span class=n>frp</span><span class=o>/</span><span class=n>frpc</span> <span class=o>-</span><span class=n>c</span> <span class=o>/</span><span class=n>home</span><span class=o>/</span><span class=n>pi</span><span class=o>/</span><span class=n>Workspace</span><span class=o>/</span><span class=n>frp</span><span class=o>/</span><span class=n>frpc</span><span class=o>.</span><span class=n>ini</span> <span class=p>;</span>
</span></span><span class=line><span class=cl><span class=n>root</span> <span class=o>=</span> <span class=n>pi</span> <span class=p>;</span>
</span></span><span class=line><span class=cl><span class=n>stopsignal</span> <span class=o>=</span> <span class=n>INT</span> <span class=p>;</span>
</span></span><span class=line><span class=cl><span class=n>autostart</span> <span class=o>=</span> <span class=bp>true</span> <span class=p>;</span>
</span></span><span class=line><span class=cl><span class=n>startsecs</span> <span class=o>=</span> <span class=mi>5</span> <span class=p>;</span>
</span></span><span class=line><span class=cl><span class=n>autorestart</span> <span class=o>=</span> <span class=bp>true</span> <span class=p>;</span>
</span></span><span class=line><span class=cl><span class=n>startretries</span> <span class=o>=</span> <span class=mi>10</span> <span class=p>;</span>
</span></span><span class=line><span class=cl><span class=n>stopasgroup</span> <span class=o>=</span> <span class=bp>true</span> <span class=p>;</span>
</span></span><span class=line><span class=cl><span class=n>killasgroup</span> <span class=o>=</span> <span class=bp>true</span> <span class=p>;</span>
</span></span><span class=line><span class=cl><span class=n>redirect_stderr</span> <span class=o>=</span> <span class=bp>true</span> <span class=p>;</span>
</span></span><span class=line><span class=cl><span class=n>stdout_logfile_maxbytes</span> <span class=o>=</span> <span class=mi>20</span><span class=n>MB</span> <span class=p>;</span>
</span></span><span class=line><span class=cl><span class=n>stdout_logfile_backups</span> <span class=o>=</span> <span class=mi>20</span> <span class=p>;</span>
</span></span><span class=line><span class=cl><span class=n>stdout_logfile</span> <span class=o>=</span> <span class=o>/</span><span class=k>var</span><span class=o>/</span><span class=nb>log</span><span class=o>/</span><span class=n>frpc</span><span class=o>.</span><span class=n>log</span> <span class=p>;</span>
</span></span></code></pre></td></tr></table></div></div><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-gdscript3 data-lang=gdscript3><span class=line><span class=cl><span class=p>[</span><span class=n>program</span><span class=p>:</span><span class=n>jupyterlab</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=n>directory</span> <span class=o>=</span> <span class=o>/</span><span class=n>home</span><span class=o>/</span><span class=n>pi</span><span class=o>/</span> <span class=p>;</span>
</span></span><span class=line><span class=cl><span class=n>command</span> <span class=o>=</span> <span class=n>python3</span> <span class=o>-</span><span class=n>m</span> <span class=n>jupyterlab</span> <span class=p>;</span>
</span></span><span class=line><span class=cl><span class=n>user</span> <span class=o>=</span> <span class=n>pi</span> <span class=p>;</span>
</span></span><span class=line><span class=cl><span class=n>stopsignal</span> <span class=o>=</span> <span class=n>INT</span> <span class=p>;</span>
</span></span><span class=line><span class=cl><span class=n>autostart</span> <span class=o>=</span> <span class=bp>true</span> <span class=p>;</span>
</span></span><span class=line><span class=cl><span class=n>startsecs</span> <span class=o>=</span> <span class=mi>10</span> <span class=p>;</span>
</span></span><span class=line><span class=cl><span class=n>autorestart</span> <span class=o>=</span> <span class=bp>true</span> <span class=p>;</span>
</span></span><span class=line><span class=cl><span class=n>startretries</span> <span class=o>=</span> <span class=mi>10</span> <span class=p>;</span>
</span></span><span class=line><span class=cl><span class=n>stopasgroup</span> <span class=o>=</span> <span class=bp>true</span> <span class=p>;</span>
</span></span><span class=line><span class=cl><span class=n>killasgroup</span> <span class=o>=</span> <span class=bp>true</span> <span class=p>;</span>
</span></span><span class=line><span class=cl><span class=n>redirect_stderr</span> <span class=o>=</span> <span class=bp>true</span> <span class=p>;</span>
</span></span><span class=line><span class=cl><span class=n>stdout_logfile_maxbytes</span> <span class=o>=</span> <span class=mi>20</span><span class=n>MB</span> <span class=p>;</span>
</span></span><span class=line><span class=cl><span class=n>stdout_logfile_backups</span> <span class=o>=</span> <span class=mi>20</span> <span class=p>;</span>
</span></span><span class=line><span class=cl><span class=n>stdout_logfile</span> <span class=o>=</span> <span class=o>/</span><span class=k>var</span><span class=o>/</span><span class=nb>log</span><span class=o>/</span><span class=n>jupyterlab</span><span class=o>.</span><span class=n>log</span> <span class=p>;</span>
</span></span></code></pre></td></tr></table></div></div><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-gdscript3 data-lang=gdscript3><span class=line><span class=cl><span class=p>[</span><span class=n>program</span><span class=p>:</span><span class=n>ncovbot</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=n>directory</span> <span class=o>=</span> <span class=o>/</span><span class=n>home</span><span class=o>/</span><span class=n>pi</span><span class=o>/</span><span class=n>Workspace</span><span class=o>/</span><span class=n>BUPT</span><span class=o>-</span><span class=n>NCOV</span><span class=o>-</span><span class=n>AUTO</span><span class=o>-</span><span class=n>REPORT</span><span class=o>-</span><span class=n>BOT</span><span class=o>/</span> <span class=p>;</span>
</span></span><span class=line><span class=cl><span class=n>command</span> <span class=o>=</span> <span class=o>/</span><span class=n>home</span><span class=o>/</span><span class=n>pi</span><span class=o>/</span><span class=n>Workspace</span><span class=o>/</span><span class=n>BUPT</span><span class=o>-</span><span class=n>NCOV</span><span class=o>-</span><span class=n>AUTO</span><span class=o>-</span><span class=n>REPORT</span><span class=o>-</span><span class=n>BOT</span><span class=o>/</span><span class=n>venv</span><span class=o>/</span><span class=n>bin</span><span class=o>/</span><span class=n>python3</span> <span class=o>./</span><span class=n>main</span><span class=o>.</span><span class=n>py</span> <span class=p>;</span>
</span></span><span class=line><span class=cl><span class=n>environment</span><span class=o>=</span><span class=n>http_proxy</span><span class=o>=</span><span class=s2>&#34;http://localhost:7890&#34;</span><span class=p>,</span><span class=n>https_proxy</span><span class=o>=</span><span class=s2>&#34;http://localhost:7890&#34;</span>
</span></span><span class=line><span class=cl><span class=n>user</span> <span class=o>=</span> <span class=n>pi</span> <span class=p>;</span>
</span></span><span class=line><span class=cl><span class=n>stopsignal</span> <span class=o>=</span> <span class=n>INT</span> <span class=p>;</span>
</span></span><span class=line><span class=cl><span class=n>autostart</span> <span class=o>=</span> <span class=bp>true</span> <span class=p>;</span>
</span></span><span class=line><span class=cl><span class=n>startsecs</span> <span class=o>=</span> <span class=mi>5</span> <span class=p>;</span>
</span></span><span class=line><span class=cl><span class=n>autorestart</span> <span class=o>=</span> <span class=bp>true</span> <span class=p>;</span>
</span></span><span class=line><span class=cl><span class=n>startretries</span> <span class=o>=</span> <span class=mi>10</span> <span class=p>;</span>
</span></span><span class=line><span class=cl><span class=n>stopasgroup</span> <span class=o>=</span> <span class=bp>true</span> <span class=p>;</span>
</span></span><span class=line><span class=cl><span class=n>killasgroup</span> <span class=o>=</span> <span class=bp>true</span> <span class=p>;</span>
</span></span><span class=line><span class=cl><span class=n>redirect_stderr</span> <span class=o>=</span> <span class=bp>true</span> <span class=p>;</span>
</span></span><span class=line><span class=cl><span class=n>stdout_logfile_maxbytes</span> <span class=o>=</span> <span class=mi>20</span><span class=n>MB</span> <span class=p>;</span>
</span></span><span class=line><span class=cl><span class=n>stdout_logfile_backups</span> <span class=o>=</span> <span class=mi>20</span> <span class=p>;</span>
</span></span><span class=line><span class=cl><span class=n>stdout_logfile</span> <span class=o>=</span> <span class=o>/</span><span class=k>var</span><span class=o>/</span><span class=nb>log</span><span class=o>/</span><span class=n>ncovbot</span><span class=o>.</span><span class=n>log</span> <span class=p>;</span>
</span></span></code></pre></td></tr></table></div></div><blockquote><p>æ³¨æ„ supervisor çš„ç¯å¢ƒå˜é‡éœ€è¦</p></blockquote></li><li><p>é‡æ–°åŠ è½½é…ç½®</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-gdscript3 data-lang=gdscript3><span class=line><span class=cl><span class=n>sudo</span> <span class=n>supervisorctl</span> <span class=n>reload</span>
</span></span></code></pre></td></tr></table></div></div></li><li><p>æŸ¥çœ‹çŠ¶æ€</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>sudo supervisorctl status
</span></span></code></pre></td></tr></table></div></div><blockquote><p>æ³¨æ„useræ˜¯rootåˆ°æ—¶å€™ï¼Œå¯èƒ½ä¼šå‡ºç°ä¸€ä¸‹ç¯å¢ƒé—®é¢˜</p></blockquote></li></ul><h3 id=docker>docker<a hidden class=anchor aria-hidden=true href=#docker>#</a></h3><ul><li><p>docker</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>sudo curl -sSL https://get.docker.com | sh
</span></span></code></pre></td></tr></table></div></div></li><li><p>æ¢æº</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>sudo vim /etc/docker/daemon.json
</span></span></code></pre></td></tr></table></div></div><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>{
</span></span><span class=line><span class=cl>&#34;registry-mirrors&#34;: [&#34;https://registry.docker-cn.com&#34;]
</span></span><span class=line><span class=cl>}
</span></span></code></pre></td></tr></table></div></div></li><li><p>docker-compose</p><p>Docker Compose çš„å®‰è£…æ–¹å¼æœ‰å¾ˆå¤šç§ï¼Œä½†ç”±äº ARM æ¶æ„çš„é™åˆ¶ï¼Œæ ‘è“æ´¾ä¸Šçš„ Docker Compose å»ºè®®ä½¿ç”¨ pip å®‰è£…ã€‚</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>sudo pip3 install -U docker-compose
</span></span></code></pre></td></tr></table></div></div></li><li><p>ui</p></li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-gdscript3 data-lang=gdscript3><span class=line><span class=cl><span class=n>sudo</span> <span class=n>docker</span> <span class=n>volume</span> <span class=n>create</span> <span class=n>portainer_data</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>sudo</span> <span class=n>docker</span> <span class=n>run</span> <span class=o>-</span><span class=n>d</span> <span class=o>-</span><span class=n>p</span> <span class=mi>8988</span><span class=p>:</span><span class=mi>9000</span> <span class=o>--</span><span class=n>name</span> <span class=n>portainer</span> <span class=o>--</span><span class=n>restart</span> <span class=n>always</span> <span class=o>-</span><span class=n>v</span> <span class=o>/</span><span class=k>var</span><span class=o>/</span><span class=n>run</span><span class=o>/</span><span class=n>docker</span><span class=o>.</span><span class=n>sock</span><span class=p>:</span><span class=o>/</span><span class=k>var</span><span class=o>/</span><span class=n>run</span><span class=o>/</span><span class=n>docker</span><span class=o>.</span><span class=n>sock</span> <span class=o>-</span><span class=n>v</span> <span class=n>portainer_data</span><span class=p>:</span><span class=o>/</span><span class=n>data</span> <span class=n>portainer</span><span class=o>/</span>
</span></span></code></pre></td></tr></table></div></div><blockquote><p>é»˜è®¤ç”¨æˆ·admin</p></blockquote><h3 id=aria2>Aria2<a hidden class=anchor aria-hidden=true href=#aria2>#</a></h3><p>Aria2 æ˜¯ä¸€æ¬¾è‡ªç”±ã€è·¨å¹³å°å‘½ä»¤è¡Œç•Œé¢çš„ä¸‹è½½ç®¡ç†å™¨ï¼Œå’Œ wget è¿™ç±»ä¸‹è½½å™¨ä¸åŒçš„æ˜¯ï¼ŒAria2 ä¸ä»…æ”¯æŒ BitTorrentï¼Œè¿˜èƒ½å¤Ÿä»å„ç§æ¥æºå¤šè·¯æ£€ç´¢æ‰€è¯·æ±‚çš„æ–‡ä»¶ã€‚åŒ…æ‹¬ HTTPï¼ŒHTTPSï¼ŒFTP å’Œ BitTorrent åè®®ã€‚</p><p>è€Œä¸” Raspbain ç³»ç»Ÿé»˜è®¤å·²ç»å®‰è£…äº† Aria2ï¼Œè¿è¡Œ <code>apt-cache show aria2</code> å³å¯æŸ¥çœ‹å®‰è£…ä¿¡æ¯ã€‚</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>sudo docker run -d --name aria2-ui-pi -p 8788:80 -p 6800:6800 -v /data:/data --restart=always huangzulin/aria2-ui-pi
</span></span></code></pre></td></tr></table></div></div><blockquote><p>é»˜è®¤ç”¨æˆ·/å¯†ç  admin/admin</p></blockquote><h3 id=mysql>mysql<a hidden class=anchor aria-hidden=true href=#mysql>#</a></h3><p>ä¸ºNextcloudå‡†å¤‡</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-gdscript3 data-lang=gdscript3><span class=line><span class=cl><span class=n>docker</span> <span class=n>pull</span> <span class=n>mysql</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>docker</span> <span class=n>run</span> <span class=o>-</span><span class=n>d</span> <span class=o>-</span><span class=n>p</span> <span class=mi>3306</span><span class=p>:</span><span class=mi>3306</span> <span class=o>-</span><span class=n>v</span> <span class=o>/</span><span class=n>mnt</span><span class=o>/</span><span class=n>sde</span><span class=o>/</span><span class=n>mysql</span><span class=p>:</span><span class=o>/</span><span class=k>var</span><span class=o>/</span><span class=n>lib</span><span class=o>/</span><span class=n>mysql</span> <span class=o>-</span><span class=n>e</span> <span class=n>MYSQL_ROOT_PASSWORD</span><span class=o>=</span><span class=n>my</span><span class=o>-</span><span class=n>secret</span><span class=o>-</span><span class=n>pw</span> <span class=o>--</span><span class=n>name</span> <span class=n>mysql</span> <span class=n>mysql</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># linux/arm/v7 ä¸æ”¯æŒmysqlï¼Œéœ€è¦å®‰è£…</span>
</span></span><span class=line><span class=cl><span class=n>docker</span> <span class=n>pull</span> <span class=n>hypriot</span><span class=o>/</span><span class=n>rpi</span><span class=o>-</span><span class=n>mysql</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>docker</span> <span class=n>run</span> <span class=o>--</span><span class=n>name</span> <span class=n>some</span><span class=o>-</span><span class=n>mysql</span> <span class=o>-</span><span class=n>e</span> <span class=n>MYSQL_ROOT_PASSWORD</span><span class=o>=</span><span class=n>my</span><span class=o>-</span><span class=n>secret</span><span class=o>-</span><span class=n>pw</span> <span class=o>-</span><span class=n>d</span> <span class=o>-</span><span class=n>p</span> <span class=mi>12345</span><span class=p>:</span><span class=mi>3306</span> <span class=n>hypriot</span><span class=o>/</span><span class=n>rpi</span><span class=o>-</span><span class=n>mysql</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=nextcloud>Nextcloud<a hidden class=anchor aria-hidden=true href=#nextcloud>#</a></h3><p>Nextcloudæ˜¯ä¸€æ¬¾å¼€æºå…è´¹çš„ç§æœ‰äº‘å­˜å‚¨ç½‘ç›˜é¡¹ç›®ï¼Œå¯ä»¥è®©ä½ å¿«é€Ÿä¾¿æ·åœ°æ­å»ºä¸€å¥—å±äºè‡ªå·±æˆ–å›¢é˜Ÿçš„äº‘åŒæ­¥ç½‘ç›˜ï¼Œä»è€Œå®ç°è·¨å¹³å°è·¨è®¾å¤‡æ–‡ä»¶åŒæ­¥ã€å…±äº«ã€ç‰ˆæœ¬æ§åˆ¶ã€å›¢é˜Ÿåä½œç­‰åŠŸèƒ½ã€‚å®ƒçš„å®¢æˆ·ç«¯è¦†ç›–äº†Windowsã€Macã€Androidã€iOSã€Linux ç­‰å„ç§å¹³å°ï¼Œä¹Ÿæä¾›äº†ç½‘é¡µç«¯ä»¥åŠ WebDAVæ¥å£ï¼Œæ‰€ä»¥ä½ å‡ ä¹å¯ä»¥åœ¨å„ç§è®¾å¤‡ä¸Šæ–¹ä¾¿åœ°è®¿é—®ä½ çš„äº‘ç›˜ã€‚</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-gdscript3 data-lang=gdscript3><span class=line><span class=cl><span class=n>sudo</span> <span class=n>docker</span> <span class=n>pull</span> <span class=n>nextcloud</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>docker</span> <span class=n>run</span> <span class=o>-</span><span class=n>d</span> <span class=o>--</span><span class=n>restart</span><span class=o>=</span><span class=n>always</span> <span class=o>-</span><span class=n>p</span> <span class=mi>8688</span><span class=p>:</span><span class=mi>80</span> <span class=o>-</span><span class=n>v</span> <span class=o>/</span><span class=n>mnt</span><span class=o>/</span><span class=n>sde</span><span class=o>/</span><span class=n>nextcloud</span><span class=p>:</span><span class=o>/</span><span class=k>var</span><span class=o>/</span><span class=n>www</span><span class=o>/</span><span class=n>html</span> <span class=o>-</span><span class=n>v</span> <span class=o>/</span><span class=n>mnt</span><span class=o>/</span><span class=n>sde</span><span class=p>:</span><span class=o>/</span><span class=k>var</span><span class=o>/</span><span class=n>www</span><span class=o>/</span><span class=n>data</span> <span class=o>-</span><span class=n>link</span> <span class=n>mysql</span><span class=p>:</span><span class=n>mysql</span> <span class=o>--</span><span class=n>name</span> <span class=n>nextcloud</span> <span class=n>nextcloud</span>
</span></span></code></pre></td></tr></table></div></div><blockquote><p>&ndash;link é“¾æ¥æ•°æ®åº“å®¹å™¨ï¼Œé“¾æ¥ä½¿ç”¨mysqlå®¹å™¨é•œåƒmysqlï¼ˆå®¹å™¨åç§°ï¼‰, ä¸ä½¿ç”¨åˆ™ä¸ºsqliteæ•°æ®åº“
-v æŒ‚è½½ç›®å½•ï¼Œå°†å®¹å™¨<code>/var/www/html</code>æŒ‚è½½åˆ°ä¸»æœº<code>/mnt/sde/nextcloud</code>ä¸‹é¢ï¼Œhtmlä¸ºæœåŠ¡è·¯å¾„ï¼Œç¨åä¼šä¿®æ”¹<code>/mnt/sde/nextcloud/config/config.php</code>çš„dataï¼Œä¿®æ”¹dataçš„ç›®å½•</p></blockquote><p><code>docker-compose.yml</code></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-gdscript3 data-lang=gdscript3><span class=line><span class=cl><span class=n>version</span><span class=p>:</span> <span class=s1>&#39;2&#39;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>services</span><span class=p>:</span>
</span></span><span class=line><span class=cl>  <span class=n>mysql</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=n>image</span><span class=p>:</span> <span class=n>ibex</span><span class=o>/</span><span class=n>debian</span><span class=o>-</span><span class=n>mysql</span><span class=o>-</span><span class=n>server</span><span class=o>-</span><span class=mf>5.7</span>
</span></span><span class=line><span class=cl>    <span class=n>restart</span><span class=p>:</span> <span class=n>always</span>
</span></span><span class=line><span class=cl>    <span class=n>volumes</span><span class=p>:</span>
</span></span><span class=line><span class=cl>      <span class=o>-</span> <span class=n>db</span><span class=p>:</span><span class=o>/</span><span class=k>var</span><span class=o>/</span><span class=n>lib</span><span class=o>/</span><span class=n>mysql</span>
</span></span><span class=line><span class=cl>    <span class=n>environment</span><span class=p>:</span>
</span></span><span class=line><span class=cl>      <span class=o>-</span> <span class=n>MYSQL_ROOT_PASSWORD</span><span class=o>=</span><span class=n>root</span>
</span></span><span class=line><span class=cl>      <span class=o>-</span> <span class=n>MYSQL_PASSWORD</span><span class=o>=&lt;</span><span class=n>password</span><span class=o>&gt;</span>
</span></span><span class=line><span class=cl>      <span class=o>-</span> <span class=n>MYSQL_DATABASE</span><span class=o>=</span><span class=n>nextcloud</span>
</span></span><span class=line><span class=cl>      <span class=o>-</span> <span class=n>MYSQL_USER</span><span class=o>=</span><span class=n>nextcloud</span>
</span></span><span class=line><span class=cl>    <span class=n>container_name</span><span class=p>:</span> <span class=n>mysql</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=n>nextcloud</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=n>image</span><span class=p>:</span> <span class=n>arm32v7</span><span class=o>/</span><span class=n>nextcloud</span>
</span></span><span class=line><span class=cl>    <span class=n>ports</span><span class=p>:</span>
</span></span><span class=line><span class=cl>      <span class=o>-</span> <span class=mi>8688</span><span class=p>:</span><span class=mi>80</span>
</span></span><span class=line><span class=cl>    <span class=n>links</span><span class=p>:</span>
</span></span><span class=line><span class=cl>      <span class=o>-</span> <span class=n>mysql</span>
</span></span><span class=line><span class=cl>    <span class=n>volumes</span><span class=p>:</span>
</span></span><span class=line><span class=cl>      <span class=o>-</span> <span class=n>nextcloud</span><span class=p>:</span><span class=o>/</span><span class=k>var</span><span class=o>/</span><span class=n>www</span><span class=o>/</span><span class=n>html</span>
</span></span><span class=line><span class=cl>    <span class=n>restart</span><span class=p>:</span> <span class=n>always</span>
</span></span><span class=line><span class=cl>    <span class=n>container_name</span><span class=p>:</span> <span class=n>nextcloud</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=n>volumes</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=n>db</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=n>nextcloud</span><span class=p>:</span>
</span></span></code></pre></td></tr></table></div></div><blockquote><p>ç­‰ä¸€å—ç¡¬ç›˜ç›’</p></blockquote><h3 id=smb>smb<a hidden class=anchor aria-hidden=true href=#smb>#</a></h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>docker run -d -p 139:139 -p 445:445 --name samba -v /mnt/sde:/mount --restart=always dperson/samba -u &#34;root;root&#34; -s &#34;root;/mount/;yes;no;yes;all;all;all&#34; -w &#34;WORKGROUP&#34; -g &#34;force user=root&#34; -g &#34;guest account=root&#34;
</span></span></code></pre></td></tr></table></div></div><h3 id=clash>clash<a hidden class=anchor aria-hidden=true href=#clash>#</a></h3><p>ç§‘å­¦ä¸Šç½‘ï¼Œdddd</p><ul><li><p><code>docker-compose.yaml</code></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>version: &#39;3&#39;
</span></span><span class=line><span class=cl>services:
</span></span><span class=line><span class=cl>clash:
</span></span><span class=line><span class=cl>    # ghcr.io/dreamacro/clash
</span></span><span class=line><span class=cl>    # ghcr.io/dreamacro/clash-premium
</span></span><span class=line><span class=cl>    # dreamacro/clash
</span></span><span class=line><span class=cl>    # dreamacro/clash-premium
</span></span><span class=line><span class=cl>    image: dreamacro/clash
</span></span><span class=line><span class=cl>    container_name: clash
</span></span><span class=line><span class=cl>    volumes:
</span></span><span class=line><span class=cl>    - ./config.yaml:/root/.config/clash/config.yaml
</span></span><span class=line><span class=cl>    # - ./ui:/ui # dashboard volume
</span></span><span class=line><span class=cl>    ports:
</span></span><span class=line><span class=cl>    - &#34;7890:7890&#34;
</span></span><span class=line><span class=cl>    - &#34;7891:7891&#34;
</span></span><span class=line><span class=cl>    - &#34;9090:9090&#34;
</span></span><span class=line><span class=cl>    # - &#34;8080:8080&#34; # external controller (Restful API)
</span></span><span class=line><span class=cl>    # # TUN
</span></span><span class=line><span class=cl>    # cap_add:
</span></span><span class=line><span class=cl>    #   - NET_ADMIN
</span></span><span class=line><span class=cl>    # devices:
</span></span><span class=line><span class=cl>    #   - /dev/net/tun
</span></span><span class=line><span class=cl>    restart: unless-stopped
</span></span><span class=line><span class=cl>#network_mode: &#34;bridge&#34; # or &#34;host&#34; on Linux
</span></span><span class=line><span class=cl>clash_web:
</span></span><span class=line><span class=cl>    image: haishanh/yacd
</span></span><span class=line><span class=cl>    restart: always
</span></span><span class=line><span class=cl>    depends_on:
</span></span><span class=line><span class=cl>        - clash
</span></span><span class=line><span class=cl>    ports:
</span></span><span class=line><span class=cl>        - 8588:80
</span></span><span class=line><span class=cl>    container_name: clash_web
</span></span></code></pre></td></tr></table></div></div></li><li><p>åˆ›å»º <code>config.yaml</code>åï¼Œæ‰§è¡Œ</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>sudo docker-compose up -d
</span></span></code></pre></td></tr></table></div></div></li><li><p>æŸ¥çœ‹log</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>sudo docker-compose logs
</span></span></code></pre></td></tr></table></div></div></li><li><p>åœæ­¢clash</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>docker-compose stop
</span></span></code></pre></td></tr></table></div></div></li><li><p>æµ‹è¯•</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>curl -x 127.0.0.1:7890 http://www.google.com
</span></span></code></pre></td></tr></table></div></div></li><li><p>è®¾ç½®ä»£ç†</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-mysql data-lang=mysql><span class=line><span class=cl><span class=c1># Define `setproxy` command to enable proxy configuration
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nf>setproxy</span><span class=p>()</span><span class=w> </span><span class=err>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>export</span><span class=w> </span><span class=n>http_proxy</span><span class=o>=</span><span class=s2>&#34;http://localhost:7890&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>export</span><span class=w> </span><span class=n>https_proxy</span><span class=o>=</span><span class=s2>&#34;http://localhost:7890&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=err>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1># Define `unsetproxy` command to disable proxy configuration
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nf>unsetproxy</span><span class=p>()</span><span class=w> </span><span class=err>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>unset</span><span class=w> </span><span class=n>http_proxy</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>unset</span><span class=w> </span><span class=n>https_proxy</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=err>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1># By default, enable proxy configuration for terminal login
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=n>setproxy</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div></li></ul><h3 id=pihole>pihole<a hidden class=anchor aria-hidden=true href=#pihole>#</a></h3><p>Pi-hole æ˜¯ä¸€æ¬¾å¼€æºä¸”å…è´¹çš„ DNS æ²‰æ´æœåŠ¡å™¨ï¼ˆDNS sinkholeï¼‰</p><ul><li><p><code>docker-compose.yaml</code></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>version: &#34;3&#34;
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl># More info at https://github.com/pi-hole/docker-pi-hole/ and https://docs.pi-hole.net/
</span></span><span class=line><span class=cl>services:
</span></span><span class=line><span class=cl>pihole:
</span></span><span class=line><span class=cl>    container_name: pihole
</span></span><span class=line><span class=cl>    image: pihole/pihole:latest
</span></span><span class=line><span class=cl>    ports:
</span></span><span class=line><span class=cl>    - &#34;53:53/tcp&#34;
</span></span><span class=line><span class=cl>    - &#34;53:53/udp&#34;
</span></span><span class=line><span class=cl>    #- &#34;67:67/udp&#34; # Only required if you are using Pi-hole as your DHCP server
</span></span><span class=line><span class=cl>    - &#34;8488:80/tcp&#34;
</span></span><span class=line><span class=cl>    environment:
</span></span><span class=line><span class=cl>    TZ: &#39;America/Chicago&#39;
</span></span><span class=line><span class=cl>    # WEBPASSWORD: &#39;set a secure password here or it will be random&#39;
</span></span><span class=line><span class=cl>    # Volumes store your data between container upgrades
</span></span><span class=line><span class=cl>    volumes:
</span></span><span class=line><span class=cl>    - &#39;./etc-pihole:/etc/pihole&#39;
</span></span><span class=line><span class=cl>    - &#39;./etc-dnsmasq.d:/etc/dnsmasq.d&#39;    
</span></span><span class=line><span class=cl>    #   https://github.com/pi-hole/docker-pi-hole#note-on-capabilities
</span></span><span class=line><span class=cl>    cap_add:
</span></span><span class=line><span class=cl>    - NET_ADMIN # Recommended but not required (DHCP needs NET_ADMIN)      
</span></span><span class=line><span class=cl>    restart: unless-stopped
</span></span></code></pre></td></tr></table></div></div></li><li><p>web</p><ul><li><p><a href=http://ip.hole/>http://ip.hole/</a></p></li><li><p>http://&lt;ip>:&lt;port>/admin</p><p><img loading=lazy src=https://cdn.jsdelivr.net/gh/Eveneko/Source-Hosting@master/PicX/image.6wze390yq9ds.webp alt=image></p></li></ul></li><li><p>ad host</p><ul><li><a href=https://github.com/otobtc/ADhosts>https://github.com/otobtc/ADhosts</a></li><li><a href=https://github.com/privacy-protection-tools/anti-AD>https://github.com/privacy-protection-tools/anti-AD</a></li></ul></li></ul><blockquote><p>å›½å†…å¹¿å‘Šå±è”½ä¸å¤Ÿå…¨é¢
è®¾å¤‡æœ‰æ—¶å€™ä¸è‡ªåŠ¨æ›´æ¢dns</p></blockquote></div><footer class=post-footer><ul class=post-tags><li><a href=https://eveneko.com/tags/raspberry-pi/>Raspberry Pi</a></li></ul><nav class=paginav><a class=prev href=https://eveneko.com/posts/vue-tutorial/><span class=title>Â« ä¸Šä¸€é¡µ</span><br><span>Vue å…¥é—¨</span>
</a><a class=next href=https://eveneko.com/posts/klee-tutorial/><span class=title>ä¸‹ä¸€é¡µ Â»</span><br><span>Klee å…¥é—¨</span></a></nav></footer></article></main><footer class=footer><span>&copy; 2023 <a href=https://eveneko.com>Neko Nest</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="å¤åˆ¶";function s(){t.innerHTML="å·²å¤åˆ¶ï¼",setTimeout(()=>{t.innerHTML="å¤åˆ¶"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>